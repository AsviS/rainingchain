//LICENSED CODE BY SAMUEL MAGNAN FOR RAININGCHAIN.COM, LICENSE INFORMATION AT GITHUB.COM/RAININGCHAIN/RAININGCHAIN
var request = require('request'); 

exports.init = function(app){
	app.get('/rs', function (req, res) { 
		res.sendfile(__dirname  + '/server/client/rs/index.html');
	});
	app.post('/getPrice', function(req, res){	
		res.send({
			itemDb:itemDb,
			lastUpdate:lastUpdate
		});
	});
	app.post('/getExp', function(req, res){	
		appPostGetExp(req,res); 
	});
}

require('./../js/shared/Tk');

var apiSkillList = ['Overall',	'Attack',	'Defence',	'Strength',	'Constitution',	'Ranged',	'Prayer',	'Magic',	'Cooking',	'Woodcutting',	'Fletching',	'Fishing',	'Firemaking',	'Crafting',	'Smithing',	'Mining',	'Herblore',	'Agility',	'Thieving',	'Slayer',	'Farming',	'Runecraft',	'Hunter',	'Construction',	'Summoning',	'Dungeoneering',	'Divination'];
var itemDb = {"bright energy":{"id":29315,"price":95},"brillant energy":{"id":29321,"price":25},"flickering energy":{"id":29314,"price":32},"gleaming energy":{"id":29318,"price":23},"glowing energy":{"id":29316,"price":37},"incandescent energy":{"id":29324,"price":73},"luminous energy":{"id":29323,"price":70},"lustrous energy":{"id":29320,"price":53},"pale energy":{"id":29313,"price":25},"radiant energy":{"id":29322,"price":46},"sparkling energy":{"id":29317,"price":61},"vibrant energy":{"id":29319,"price":53},"accursed urn (nr)":{"id":20416,"price":813},"adamant 2h crossbow":{"id":25927,"price":1618},"adamant 2h sword":{"id":1317,"price":3257},"adamant arrow":{"id":890,"price":49},"adamant arrowheads":{"id":43,"price":138},"adamant bar":{"id":2361,"price":2903},"adamant battleaxe":{"id":1371,"price":1950},"adamant bolts":{"id":9143,"price":65},"adamant bolts (unf)":{"id":9380,"price":88},"adamant brutal":{"id":4798,"price":238},"adamant c'bow (u)":{"id":9463,"price":924},"adamant chainbody":{"id":1111,"price":2255},"adamant claw":{"id":3100,"price":511},"adamant crossbow":{"id":9183,"price":1164},"adamant dagger":{"id":1211,"price":201},"adamant dart":{"id":810,"price":14},"adamant dart tip":{"id":823,"price":162},"adamant full helm":{"id":1161,"price":1516},"adamant hatchet":{"id":1357,"price":458},"adamant helm":{"id":1145,"price":769},"adamant kiteshield":{"id":1199,"price":2698},"adamant knife":{"id":867,"price":31},"adamant longsword":{"id":1301,"price":1482},"adamant mace":{"id":1430,"price":557},"adamant pickaxe":{"id":1271,"price":1403},"adamant platebody":{"id":1123,"price":9513},"adamant platelegs":{"id":1073,"price":3210},"adamant plateskirt":{"id":1091,"price":3170},"adamant scimitar":{"id":1331,"price":1125},"adamant sq shield":{"id":1183,"price":1756},"adamant sword":{"id":1287,"price":839},"adamant throwing axe":{"id":804,"price":138},"adamant warhammer":{"id":1345,"price":2611},"adamantite limbs":{"id":9429,"price":1244},"adamantite nails":{"id":4823,"price":27},"adamantite ore":{"id":449,"price":1988},"admiral pie":{"id":7198,"price":436},"agility mix (2)":{"id":11461,"price":259},"agility potion (2)":{"id":3036,"price":118},"agility potion (3)":{"id":3034,"price":100},"air battlestaff":{"id":1397,"price":8364},"air orb":{"id":573,"price":2380},"anchovies":{"id":319,"price":15},"anchovy pizza":{"id":2297,"price":799},"anti-p supermix (2)":{"id":11473,"price":401},"antidote+ mix (2)":{"id":11501,"price":1231},"antifire (2)":{"id":2456,"price":4034},"antifire (3)":{"id":2454,"price":6955},"antifire mix (2)":{"id":11505,"price":2676},"antipoison++ (4)":{"id":5952,"price":579},"antipoison+ (2)":{"id":5947,"price":939},"antipoison+ (4)":{"id":5943,"price":645},"antipoison (2)":{"id":177,"price":109},"antipoison (3)":{"id":175,"price":98},"antipoison mix (2)":{"id":11433,"price":318},"apple pie":{"id":2323,"price":443},"arrow shaft":{"id":52,"price":15},"ascension bolts":{"id":28465,"price":600},"ascension shard":{"id":28436,"price":719},"ashes":{"id":592,"price":376},"attack mix (2)":{"id":11429,"price":24},"attack potion (2)":{"id":123,"price":175},"attack potion (3)":{"id":121,"price":174},"avantoe potion (unf)":{"id":103,"price":4867},"baked potato":{"id":6701,"price":207},"ball of wool":{"id":1759,"price":175},"barb bolttips":{"id":47,"price":61},"barbed bolts":{"id":881,"price":59},"basket":{"id":5376,"price":4},"bass":{"id":365,"price":415},"bat book":{"id":25660,"price":4450},"bat wand":{"id":25648,"price":7531},"battlestaff":{"id":1391,"price":7694},"batwing":{"id":25549,"price":3660},"batwing boots":{"id":25833,"price":2202},"batwing gloves":{"id":25829,"price":1471},"batwing hood":{"id":25825,"price":4593},"batwing legs":{"id":25831,"price":4793},"batwing shield":{"id":25802,"price":411},"batwing torso":{"id":25827,"price":4265},"beer glass":{"id":1919,"price":41},"black bead":{"id":1474,"price":4083},"black brutal":{"id":4788,"price":78},"black d'hide body":{"id":2503,"price":7685},"black d'hide chaps":{"id":2497,"price":3224},"black d'hide shield":{"id":25800,"price":9559},"black d'hide vambraces":{"id":2491,"price":2325},"black dragon leather":{"id":2509,"price":4667},"black nails":{"id":4821,"price":79},"blue d'hide body":{"id":2499,"price":5274},"blue d'hide chaps":{"id":2493,"price":2229},"blue d'hide shield":{"id":25796,"price":6679},"blue d'hide vambraces":{"id":2487,"price":1506},"blue dragon leather":{"id":2505,"price":3023},"blue feather":{"id":10089,"price":35},"bow string":{"id":1777,"price":326},"bowl":{"id":1923,"price":119},"bread":{"id":2309,"price":212},"bread dough":{"id":2307,"price":196},"broad-tipped bolts":{"id":13280,"price":43},"broad arrowheads":{"id":13278,"price":85},"bronze 2h crossbow":{"id":25919,"price":307},"bronze 2h sword":{"id":1307,"price":66},"bronze arrow":{"id":882,"price":5},"bronze arrowheads":{"id":39,"price":5},"bronze bar":{"id":2349,"price":210},"bronze battleaxe":{"id":1375,"price":27},"bronze bolts":{"id":877,"price":30},"bronze bolts (unf)":{"id":9375,"price":11},"bronze brutal":{"id":4773,"price":34},"bronze c'bow (u)":{"id":9454,"price":26},"bronze chainbody":{"id":1103,"price":55},"bronze claw":{"id":3095,"price":511},"bronze crossbow":{"id":9174,"price":211},"bronze dart":{"id":806,"price":13},"bronze dagger":{"id":1205,"price":109},"bronze dart tip":{"id":819,"price":19},"bronze full helm":{"id":1155,"price":37},"bronze hatchet":{"id":1351,"price":148},"bronze helm":{"id":1139,"price":150},"bronze kiteshield":{"id":1189,"price":113},"bronze knife":{"id":864,"price":3},"bronze limbs":{"id":9420,"price":44},"bronze longsword":{"id":1291,"price":111},"bronze mace":{"id":1422,"price":45},"bronze nails":{"id":4819,"price":11},"bronze pickaxe":{"id":1265,"price":88},"bronze platebody":{"id":1117,"price":93},"bronze platelegs":{"id":1075,"price":185},"bronze plateskirt":{"id":1087,"price":21},"bronze scimitar":{"id":1321,"price":78},"bronze sq shield":{"id":1173,"price":37},"bronze sword":{"id":1277,"price":24},"bronze throwing axe":{"id":800,"price":4},"bronze warhammer":{"id":1337,"price":50},"bronze wire":{"id":1794,"price":162},"cactus spine":{"id":6016,"price":4370},"cadantine potion (unf)":{"id":107,"price":2784},"cake":{"id":1891,"price":173},"candle lantern (empty)":{"id":4527,"price":14},"carapace":{"id":25551,"price":653},"carapace boots":{"id":25863,"price":631},"carapace gloves":{"id":25865,"price":540},"carapace helm":{"id":25857,"price":1255},"carapace legs":{"id":25861,"price":1471},"carapace torso":{"id":25859,"price":2067},"cave eel":{"id":5003,"price":155},"cavefish":{"id":15266,"price":1612},"caviar":{"id":11326,"price":306},"cheese":{"id":1985,"price":79},"chilli con carne":{"id":7062,"price":276},"chilli potato":{"id":7054,"price":370},"chocolate bar":{"id":1973,"price":330},"chocolate cake":{"id":1897,"price":567},"chocolate dust":{"id":1975,"price":392},"chopped garlic":{"id":7074,"price":47},"chopped onion":{"id":1871,"price":394},"clean avantoe":{"id":261,"price":4684},"clean cadantine":{"id":265,"price":2310},"clean dwarf weed":{"id":267,"price":9522},"clean fellstalk":{"id":21624,"price":1774},"clean guam":{"id":249,"price":544},"clean harralander":{"id":255,"price":164},"clean irit":{"id":259,"price":2829},"clean kwuarm":{"id":263,"price":4027},"clean lantadyme":{"id":2481,"price":9214},"clean marrentill":{"id":251,"price":89},"clean ranarr":{"id":257,"price":2990},"clean snapdragon":{"id":3000,"price":5252},"clean spirit weed":{"id":12172,"price":1561},"clean tarromin":{"id":253,"price":48},"clean toadflax":{"id":2998,"price":4186},"clean torstol":{"id":269,"price":8485},"clean wergali":{"id":14854,"price":1816},"clockwork":{"id":8792,"price":2176},"clockwork cat":{"id":7771,"price":4534},"coal":{"id":453,"price":251},"cockatrice egg":{"id":12109,"price":1822},"coconut milk":{"id":5935,"price":4065},"cod":{"id":339,"price":29},"coif":{"id":1169,"price":59},"combat mix (2)":{"id":11445,"price":294},"combat potion (2)":{"id":9743,"price":51},"combat potion (3)":{"id":9741,"price":49},"cooked chicken":{"id":2140,"price":188},"cooked crab meat":{"id":7521,"price":289},"cooked karambwan":{"id":3144,"price":1526},"cooked meat":{"id":2142,"price":183},"cooked rabbit":{"id":3228,"price":82},"cooked slimy eel":{"id":3381,"price":245},"cooking urn (nr)":{"id":20362,"price":836},"copper ore":{"id":436,"price":80},"cracked cooking urn (nr)":{"id":20350,"price":148},"cracked fishing urn (nr)":{"id":20320,"price":420},"cracked mining urn (nr)":{"id":20380,"price":211},"cracked smelting urn (nr)":{"id":20272,"price":84},"cracked woodcutting urn (nr)":{"id":20296,"price":288},"crafting potion (3)":{"id":14840,"price":653},"crayfish":{"id":13433,"price":26},"crossbow string":{"id":9438,"price":659},"crushed nest":{"id":6693,"price":1364},"cured yak-hide":{"id":10820,"price":546},"curry":{"id":2011,"price":640},"decorated cooking urn (nr)":{"id":20374,"price":2196},"decorated fishing urn (nr)":{"id":20344,"price":2087},"decorated mining urn (nr)":{"id":20404,"price":598},"defence mix (2)":{"id":11457,"price":596},"defence potion (2)":{"id":135,"price":304},"defence potion (3)":{"id":133,"price":298},"diamond":{"id":1601,"price":2156},"diamond amulet":{"id":1700,"price":1807},"diamond bolt tips":{"id":9192,"price":190},"diamond bolts":{"id":9340,"price":259},"diamond bracelet":{"id":11092,"price":1990},"diamond necklace":{"id":1662,"price":1926},"diamond ring":{"id":1643,"price":1947},"dragon 2h crossbow":{"id":25932,"price":9063365},"dragon arrow":{"id":11212,"price":248},"dragon arrowheads":{"id":11237,"price":440},"dragon bolt tips":{"id":9193,"price":194},"dragon bolts":{"id":9341,"price":589},"dragon bracelet":{"id":11115,"price":10466},"dragon c'bow (u)":{"id":25478,"price":5649864},"dragon crossbow":{"id":25917,"price":10194117},"dragon dart":{"id":11230,"price":147},"dragon dart tip":{"id":11232,"price":787},"dragon limbs":{"id":25481,"price":11089199},"dragon necklace":{"id":1664,"price":10306},"dragon scale dust":{"id":241,"price":842},"dragonstone":{"id":1615,"price":10160},"dragonstone ammy":{"id":1683,"price":9612},"dragonstone ring":{"id":1645,"price":9885},"dwarf weed potion (unf)":{"id":109,"price":9266},"earth battlestaff":{"id":1399,"price":8804},"earth orb":{"id":575,"price":2723},"egg and tomato":{"id":7064,"price":139},"egg potato":{"id":7056,"price":612},"emerald":{"id":1605,"price":1315},"emerald amulet":{"id":1677,"price":478},"emerald bolt tips":{"id":9190,"price":88},"emerald bolts":{"id":9338,"price":166},"emerald bracelet":{"id":11076,"price":642},"emerald necklace":{"id":1658,"price":1447},"emerald ring":{"id":1639,"price":1439},"empty pot":{"id":1931,"price":13},"empty sack":{"id":5418,"price":29},"empty seaweed net":{"id":14859,"price":43},"energy mix (2)":{"id":11453,"price":194},"energy potion (2)":{"id":3012,"price":21},"energy potion (3)":{"id":3010,"price":22},"eye of newt":{"id":221,"price":7},"fat snail":{"id":3367,"price":986},"fat snail meat":{"id":3373,"price":493},"feather":{"id":314,"price":31},"feather headdress (blue)":{"id":12210,"price":170},"feather headdress (orange)":{"id":12222,"price":157},"feather headdress (red)":{"id":12216,"price":71},"feather headdress (stripy)":{"id":12219,"price":99},"feather headdress (yellow)":{"id":12213,"price":420},"fellstalk potion (unf)":{"id":21628,"price":2318},"fire battlestaff":{"id":1393,"price":8448},"fire orb":{"id":569,"price":2178},"fish pie":{"id":7188,"price":320},"fishbowl":{"id":6667,"price":315},"fishing mix (2)":{"id":11477,"price":109},"fishing potion (2)":{"id":153,"price":63},"fishing potion (3)":{"id":151,"price":48},"fishing urn (nr)":{"id":20332,"price":814},"flax":{"id":1779,"price":83},"fletching potion (3)":{"id":14848,"price":33},"flighted ogre arrow":{"id":2865,"price":266},"fragile cooking urn (nr)":{"id":20356,"price":307},"fragile fishing urn (nr)":{"id":20326,"price":388},"fragile mining urn (nr)":{"id":20386,"price":93},"fragile smelting urn (nr)":{"id":20278,"price":27},"fragile woodcutting urn (nr)":{"id":20302,"price":471},"fried mushrooms":{"id":7082,"price":351},"fried onions":{"id":7084,"price":44},"fur":{"id":6814,"price":334},"garden pie":{"id":7178,"price":1444},"garlic":{"id":1550,"price":32},"gnome spice":{"id":2169,"price":192},"goat horn dust":{"id":9736,"price":1443},"gold amulet":{"id":1692,"price":139},"gold bar":{"id":2357,"price":87},"gold bracelet":{"id":11069,"price":217},"gold necklace":{"id":1654,"price":177},"gold ore":{"id":444,"price":253},"gold ring":{"id":1635,"price":192},"grapes":{"id":1987,"price":1447},"green d'hide body":{"id":1135,"price":4338},"green d'hide chaps":{"id":1099,"price":2038},"green d'hide shield":{"id":25794,"price":5309},"green d'hide vambraces":{"id":1065,"price":1221},"green dragon leather":{"id":1745,"price":2184},"grimy avantoe":{"id":211,"price":4491},"grimy cadantine":{"id":215,"price":2250},"grimy dwarf weed":{"id":217,"price":9382},"grimy fellstalk":{"id":21626,"price":1677},"grimy guam":{"id":199,"price":554},"grimy harralander":{"id":205,"price":138},"grimy irit":{"id":209,"price":2670},"grimy kwuarm":{"id":213,"price":3766},"grimy lantadyme":{"id":2485,"price":9047},"grimy marrentill":{"id":201,"price":108},"grimy ranarr":{"id":207,"price":2893},"grimy snapdragon":{"id":3051,"price":5204},"grimy spirit weed":{"id":12174,"price":1470},"grimy tarromin":{"id":203,"price":45},"grimy toadflax":{"id":3049,"price":4083},"grimy torstol":{"id":219,"price":8419},"grimy wergali":{"id":14836,"price":1770},"guam potion (unf)":{"id":91,"price":771},"guam tar":{"id":10142,"price":176},"guthix balance (3)":{"id":7662,"price":108},"guthix balance (3) (unf)":{"id":7654,"price":65},"guthix rest (3)":{"id":4419,"price":51},"hair":{"id":10814,"price":161},"hard leather":{"id":1743,"price":540},"hard leather body":{"id":1131,"price":48},"hard leather boots":{"id":25821,"price":258},"hard leather gloves":{"id":25875,"price":2},"hard leather shield":{"id":25808,"price":17},"harralander potion (unf)":{"id":97,"price":443},"harralander tar":{"id":10145,"price":272},"headless arrow":{"id":53,"price":58},"herring":{"id":347,"price":18},"hunter potion (2)":{"id":10002,"price":148},"hunter potion (3)":{"id":10000,"price":86},"hunting mix (2)":{"id":11517,"price":142},"imp horn wand":{"id":25642,"price":185},"imphide":{"id":25545,"price":347},"imphide book":{"id":25662,"price":134},"imphide boots":{"id":25853,"price":22},"imphide gloves":{"id":25851,"price":17},"imphide hood":{"id":25845,"price":142},"imphide robe bottom":{"id":25849,"price":87},"imphide robe top":{"id":25847,"price":215},"imphide shield":{"id":25855,"price":46},"impious urn (nr)":{"id":20410,"price":160},"infernal urn (nr)":{"id":20422,"price":654},"irit potion (unf)":{"id":101,"price":3226},"iron 2h crossbow":{"id":25921,"price":398},"iron 2h sword":{"id":1309,"price":66},"iron arrow":{"id":884,"price":6},"iron arrowheads":{"id":40,"price":6},"iron bar":{"id":2351,"price":510},"iron battleaxe":{"id":1363,"price":58},"iron bolts":{"id":9140,"price":33},"iron bolts (unf)":{"id":9377,"price":4},"iron brutal":{"id":4778,"price":28},"iron c'bow (u)":{"id":9457,"price":27},"iron chainbody":{"id":1101,"price":65},"iron claw":{"id":3096,"price":141},"iron crossbow":{"id":9177,"price":589},"iron dagger":{"id":1203,"price":48},"iron dart":{"id":807,"price":5},"iron dart tip":{"id":820,"price":13},"iron full helm":{"id":1153,"price":13},"iron hatchet":{"id":1349,"price":24},"iron helm":{"id":1137,"price":20},"iron kiteshield":{"id":1191,"price":40},"iron knife":{"id":863,"price":15},"iron limbs":{"id":9423,"price":56},"iron longsword":{"id":1293,"price":51},"iron mace":{"id":1420,"price":24},"iron nails":{"id":4820,"price":12},"iron ore":{"id":440,"price":289},"iron pickaxe":{"id":1267,"price":450},"iron platebody":{"id":1115,"price":2041},"iron platelegs":{"id":1067,"price":48},"iron plateskirt":{"id":1081,"price":48},"iron scimitar":{"id":1323,"price":35},"iron spit":{"id":7225,"price":24},"iron sq shield":{"id":1175,"price":43},"iron sword":{"id":1279,"price":29},"iron throwing axe":{"id":801,"price":4},"iron warhammer":{"id":1335,"price":51},"jade":{"id":1611,"price":248},"jade bolt tips":{"id":9187,"price":4},"jangerberries":{"id":247,"price":532},"jug of wine":{"id":1993,"price":99},"jug of water":{"id":1937,"price":737},"jute fibre":{"id":5931,"price":555},"kebbit teeth dust":{"id":10111,"price":540},"kwuarm potion (unf)":{"id":105,"price":4485},"lantadyme potion (unf)":{"id":2483,"price":9098},"lantern lens":{"id":4542,"price":2},"lean snail":{"id":3365,"price":1234},"lean snail meat":{"id":3371,"price":358},"leather":{"id":1741,"price":572},"leather body":{"id":1129,"price":19},"leather boots":{"id":1061,"price":30},"leather chaps":{"id":1095,"price":44},"leather cowl":{"id":1167,"price":60},"leather gloves":{"id":1059,"price":34},"leather shield":{"id":25806,"price":8},"leather vambraces":{"id":1063,"price":19},"limpwurt root":{"id":225,"price":1938},"lobster":{"id":379,"price":252},"logs":{"id":1511,"price":285},"mackerel":{"id":355,"price":30},"magic logs":{"id":1513,"price":1019},"magic mix (2)":{"id":27500,"price":333},"magic potion (2)":{"id":27516,"price":2109},"magic potion (3)":{"id":27514,"price":3502},"magic roots":{"id":6051,"price":2711},"magic shieldbow":{"id":859,"price":1253},"magic shieldbow (u)":{"id":70,"price":936},"magic shortbow":{"id":861,"price":725},"magic shortbow (u)":{"id":72,"price":990},"magic stock":{"id":25483,"price":127},"magic string":{"id":6038,"price":1347},"mahogany logs":{"id":6332,"price":1023},"mahogany stock":{"id":9450,"price":22},"manta ray":{"id":391,"price":2076},"maple logs":{"id":1517,"price":30},"maple shieldbow":{"id":851,"price":198},"maple shieldbow (u)":{"id":62,"price":93},"maple shortbow":{"id":853,"price":124},"maple shortbow (u)":{"id":64,"price":58},"maple stock":{"id":9448,"price":20},"marrentill potion (unf)":{"id":93,"price":264},"marrentill tar":{"id":10143,"price":152},"meat pie":{"id":2327,"price":502},"meat pizza":{"id":2293,"price":290},"mining urn (nr)":{"id":20392,"price":791},"mith crossbow":{"id":9181,"price":228},"mith grapple tip":{"id":9416,"price":203},"mithril 2h crossbow":{"id":25925,"price":536},"mithril 2h sword":{"id":1315,"price":1060},"mithril arrow":{"id":888,"price":20},"mithril arrowheads":{"id":42,"price":52},"mithril bar":{"id":2359,"price":1812},"mithril battleaxe":{"id":1369,"price":574},"mithril bolts":{"id":9142,"price":55},"mithril bolts (unf)":{"id":9379,"price":54},"mithril brutal":{"id":4793,"price":156},"mithril c'bow (u)":{"id":9461,"price":278},"mithril chainbody":{"id":1109,"price":650},"mithril claw":{"id":3099,"price":51},"mithril dagger":{"id":1209,"price":76},"mithril dart":{"id":809,"price":5},"mithril dart tip":{"id":822,"price":85},"mithril full helm":{"id":1159,"price":474},"mithril hatchet":{"id":1355,"price":109},"mithril helm":{"id":1143,"price":177},"mithril kiteshield":{"id":1197,"price":824},"mithril knife":{"id":866,"price":26},"mithril limbs":{"id":9427,"price":376},"mithril longsword":{"id":1299,"price":405},"mithril mace":{"id":1428,"price":129},"mithril nails":{"id":4822,"price":39},"mithril ore":{"id":447,"price":581},"mithril pickaxe":{"id":1273,"price":473},"mithril platebody":{"id":1121,"price":2732},"mithril platelegs":{"id":1071,"price":1033},"mithril plateskirt":{"id":1085,"price":1018},"mithril scimitar":{"id":1329,"price":298},"mithril sq shield":{"id":1181,"price":475},"mithril sword":{"id":1285,"price":206},"mithril throwing axe":{"id":803,"price":26},"mithril warhammer":{"id":1343,"price":796},"mixture - step 1 (3)":{"id":10915,"price":2168},"mixture - step 2 (3)":{"id":10919,"price":6845},"molten glass":{"id":1775,"price":444},"monkfish":{"id":7946,"price":450},"morchella mushroom":{"id":21622,"price":6784},"mort myre fungus":{"id":2970,"price":623},"mud pie":{"id":7170,"price":2658},"mud runes":{"id":4698,"price":619},"mushroom potato":{"id":7058,"price":1352},"mushroom & onion":{"id":7066,"price":441},"nail beast nails":{"id":10937,"price":176},"nature rune":{"id":561,"price":291},"oak logs":{"id":1521,"price":179},"oak shieldbow":{"id":845,"price":52},"oak shieldbow (u)":{"id":56,"price":22},"oak shortbow":{"id":843,"price":29},"oak shortbow (u)":{"id":54,"price":13},"oakstock":{"id":9442,"price":4},"off-hand adamant battleaxe":{"id":25771,"price":1890},"off-hand adamant claw":{"id":25943,"price":138},"off-hand adamant crossbow":{"id":25889,"price":1801},"off-hand adamant dagger":{"id":25702,"price":168},"off-hand adamant dart":{"id":25914,"price":37},"off-hand adamant knife":{"id":25900,"price":275},"off-hand adamant longsword":{"id":25735,"price":1255},"off-hand adamant mace":{"id":25684,"price":414},"off-hand adamant scimitar":{"id":25753,"price":1028},"off-hand adamant sword":{"id":25720,"price":726},"off-hand adamant throwing axe":{"id":25907,"price":116},"off-hand adamant warhammer":{"id":25789,"price":2449},"off-hand bronze battleaxe":{"id":25761,"price":2},"off-hand bronze claw":{"id":25933,"price":26},"off-hand bronze crossbow":{"id":25881,"price":370},"off-hand bronze dagger":{"id":25692,"price":26},"off-hand bronze dart":{"id":25909,"price":14},"off-hand bronze knife":{"id":25897,"price":26},"off-hand bronze longsword":{"id":25725,"price":10},"off-hand bronze mace":{"id":25674,"price":15},"off-hand bronze scimitar":{"id":25743,"price":14},"off-hand bronze sword":{"id":25710,"price":2},"off-hand bronze throwing axe":{"id":25903,"price":2},"off-hand bronze warhammer":{"id":25779,"price":6},"off-hand dragon crossbow":{"id":25894,"price":10605545},"off-hand dragon dart":{"id":25916,"price":546},"off-hand iron battleaxe":{"id":25763,"price":41},"off-hand iron claw":{"id":25935,"price":122},"off-hand iron crossbow":{"id":25883,"price":539},"off-hand iron dagger":{"id":25694,"price":13},"off-hand iron dart":{"id":25910,"price":23},"off-hand iron knife":{"id":25896,"price":18},"off-hand iron longsword":{"id":25727,"price":23},"off-hand iron mace":{"id":25676,"price":34},"off-hand iron scimitar":{"id":25745,"price":12},"off-hand iron sword":{"id":25712,"price":31},"off-hand iron throwing axe":{"id":25904,"price":7},"off-hand iron warhammer":{"id":25781,"price":48},"off-hand mithril battleaxe":{"id":25769,"price":535},"off-hand mithril claw":{"id":25941,"price":34},"off-hand mithril crossbow":{"id":25887,"price":622},"off-hand mithril dagger":{"id":25700,"price":54},"off-hand mithril dart":{"id":25913,"price":40},"off-hand mithril knife":{"id":25899,"price":67},"off-hand mithril longsword":{"id":25733,"price":338},"off-hand mithril mace":{"id":25682,"price":113},"off-hand mithril scimitar":{"id":25751,"price":235},"off-hand mithril sword":{"id":25718,"price":185},"off-hand mithril throwing axe":{"id":25906,"price":21},"off-hand mithril warhammer":{"id":25787,"price":752},"off-hand rune battleaxe":{"id":25773,"price":24310},"off-hand rune claw":{"id":25945,"price":3005},"off-hand rune crossbow":{"id":25891,"price":10029},"off-hand rune dagger":{"id":25704,"price":3947},"off-hand rune dart":{"id":25915,"price":879},"off-hand rune knife":{"id":25901,"price":1922},"off-hand rune longsword":{"id":25737,"price":18068},"off-hand rune mace":{"id":25686,"price":7730},"off-hand rune scimitar":{"id":25755,"price":19666},"off-hand rune sword":{"id":25722,"price":11783},"off-hand rune throwing axe":{"id":25908,"price":996},"off-hand rune warhammer":{"id":25791,"price":24753},"off-hand steel battleaxe":{"id":25765,"price":128},"off-hand steel claw":{"id":25937,"price":2},"off-hand steel crossbow":{"id":25885,"price":582},"off-hand steel dagger":{"id":25696,"price":35},"off-hand steel dart":{"id":25911,"price":33},"off-hand steel knife":{"id":25898,"price":47},"off-hand steel longsword":{"id":25729,"price":50},"off-hand steel mace":{"id":25678,"price":56},"off-hand steel scimitar":{"id":25747,"price":35},"off-hand steel sword":{"id":25714,"price":65},"off-hand steel throwing axe":{"id":25905,"price":15},"off-hand steel warhammer":{"id":25783,"price":190},"oil lamp (empty)":{"id":4525,"price":3},"oil lantern frame":{"id":4540,"price":10},"onyx":{"id":6573,"price":1072243},"onyx amulet":{"id":6581,"price":2127250},"onyx bolt tips":{"id":9194,"price":7894},"onyx bolts":{"id":9342,"price":8466},"onyx bracelet":{"id":11130,"price":1120415},"onyx necklace":{"id":6577,"price":1917522},"onyx ring":{"id":6575,"price":1004292},"opal":{"id":1609,"price":159},"opal bolt tips":{"id":45,"price":4},"opal bolts":{"id":879,"price":10},"orange feather":{"id":10091,"price":31},"oyster pearl":{"id":411,"price":20},"oyster pearls":{"id":413,"price":573},"papaya fruit":{"id":5972,"price":3339},"pat of butter":{"id":6697,"price":177},"pearl bolt tips":{"id":46,"price":11},"pearl bolts":{"id":880,"price":39},"pie dish":{"id":2313,"price":519},"pike":{"id":351,"price":40},"pineapple chunks":{"id":2116,"price":43},"pineapple pizza":{"id":2301,"price":446},"pineapple ring":{"id":2118,"price":50},"pitta bread":{"id":1865,"price":18},"pitta dough":{"id":1863,"price":818},"plain pizza":{"id":2289,"price":667},"plank":{"id":960,"price":568},"plant pot":{"id":5354,"price":423},"poison ivy berries":{"id":6018,"price":696},"pot lid":{"id":4440,"price":6},"potato cactus":{"id":3138,"price":3213},"potato with butter":{"id":6703,"price":92},"potato with cheese":{"id":6705,"price":377},"prayer mix (2)":{"id":11465,"price":1020},"prayer potion (2)":{"id":141,"price":1940},"prayer potion (3)":{"id":139,"price":2906},"prayer renewal (3)":{"id":21632,"price":5625},"rainbow fish":{"id":10136,"price":500},"ranarr potion (unf)":{"id":99,"price":3640},"ranging mix (2)":{"id":27496,"price":358},"ranging potion (2)":{"id":27508,"price":1205},"ranging potion (3)":{"id":27506,"price":1271},"raw admiral pie":{"id":7196,"price":4343},"raw anchovies":{"id":321,"price":8},"raw bass":{"id":363,"price":492},"raw bear meat":{"id":2136,"price":159},"raw beef":{"id":2132,"price":213},"raw cave eel":{"id":5001,"price":357},"raw cavefish":{"id":15264,"price":2081},"raw chicken":{"id":2138,"price":405},"raw cod":{"id":341,"price":68},"raw crayfish":{"id":13435,"price":46},"raw fish pie":{"id":7186,"price":2760},"raw garden pie":{"id":7176,"price":1599},"raw herring":{"id":345,"price":52},"raw karambwan":{"id":3142,"price":2966},"raw lobster":{"id":377,"price":355},"raw mackerel":{"id":353,"price":37},"raw manta ray":{"id":389,"price":2499},"raw monkfish":{"id":7944,"price":699},"raw mud pie":{"id":7168,"price":2079},"raw pike":{"id":349,"price":63},"raw potato":{"id":1942,"price":286},"raw rabbit":{"id":3226,"price":1050},"raw rainbow fish":{"id":10138,"price":509},"raw rat meat":{"id":2134,"price":120},"raw rocktail":{"id":15270,"price":2203},"raw salmon":{"id":331,"price":113},"raw sardine":{"id":327,"price":43},"raw sea turtle":{"id":395,"price":3597},"raw shark":{"id":383,"price":1339},"raw shrimps":{"id":317,"price":16},"raw summer pie":{"id":7216,"price":4449},"raw swordfish":{"id":371,"price":416},"raw trout":{"id":335,"price":25},"raw tuna":{"id":359,"price":143},"raw ugthanki meat":{"id":1859,"price":1311},"raw wild pie":{"id":7206,"price":4001},"raw yak meat":{"id":10816,"price":17},"red bead":{"id":1470,"price":3836},"red d'hide body":{"id":2501,"price":6412},"red d'hide chaps":{"id":2495,"price":2723},"red d'hide shield":{"id":25798,"price":7994},"red d'hide vambraces":{"id":2489,"price":1828},"red dragon leather":{"id":2507,"price":4052},"red feather":{"id":10088,"price":29},"red spiders' eggs":{"id":223,"price":1459},"red topaz":{"id":1613,"price":401},"redberries":{"id":1951,"price":696},"redberry pie":{"id":2325,"price":1560},"relicym's balm (2)":{"id":4846,"price":457},"relicym's balm (3)":{"id":4844,"price":786},"relicym's mix (2)":{"id":11437,"price":282},"grenwall spikes":{"id":12539,"price":962},"restore mix (2)":{"id":11449,"price":11},"restore potion (2)":{"id":129,"price":19},"restore potion (3)":{"id":127,"price":28},"ring of forging":{"id":2568,"price":932},"roast beast meat":{"id":9988,"price":42},"roast bird meat":{"id":9980,"price":20},"roast rabbit":{"id":7223,"price":40},"rocktail":{"id":15272,"price":1955},"roe":{"id":11324,"price":52},"rope":{"id":954,"price":240},"royal d'hide body":{"id":24382,"price":11057},"royal d'hide chaps":{"id":24379,"price":5593},"royal d'hide vambraces":{"id":24376,"price":3459},"royal dragon leather":{"id":24374,"price":6191},"ruby":{"id":1603,"price":1133},"ruby amulet":{"id":1698,"price":950},"ruby bolt tips":{"id":9191,"price":60},"ruby bolts":{"id":9339,"price":147},"ruby bracelet":{"id":11085,"price":1077},"ruby necklace":{"id":1660,"price":1006},"ruby ring":{"id":1641,"price":969},"rune 2h crossbow":{"id":25929,"price":9077},"rune 2h sword":{"id":1319,"price":37207},"rune arrow":{"id":892,"price":150},"rune arrowheads":{"id":44,"price":191},"rune bar":{"id":2363,"price":13999},"rune battleaxe":{"id":1373,"price":24134},"rune brutal":{"id":4803,"price":545},"rune chainbody":{"id":1113,"price":28924},"rune claw":{"id":3101,"price":6430},"rune crossbow":{"id":9185,"price":8762},"rune dagger":{"id":1213,"price":4219},"rune dart":{"id":811,"price":97},"rune dart tip":{"id":824,"price":866},"rune full helm":{"id":1163,"price":20150},"rune hatchet":{"id":1359,"price":7162},"rune helm":{"id":1147,"price":10616},"rune kiteshield":{"id":1201,"price":31705},"rune knife":{"id":868,"price":43},"rune longsword":{"id":1303,"price":18280},"rune mace":{"id":1432,"price":7741},"rune nails":{"id":4824,"price":252},"rune pickaxe":{"id":1275,"price":18728},"rune platebody":{"id":1127,"price":38034},"rune platelegs":{"id":1079,"price":37294},"rune plateskirt":{"id":1093,"price":37259},"rune scimitar":{"id":1333,"price":14878},"rune sq shield":{"id":1185,"price":22117},"rune sword":{"id":1289,"price":12113},"rune throwing axe":{"id":805,"price":191},"rune warhammer":{"id":1347,"price":27475},"runite bolts":{"id":9144,"price":402},"runite bolts (unf)":{"id":9381,"price":497},"runite c'bow (u)":{"id":9465,"price":9184},"runite limbs":{"id":9431,"price":9138},"runite ore":{"id":451,"price":10604},"salmon":{"id":329,"price":147},"sanfew serum (3)":{"id":10927,"price":6762},"sapphire":{"id":1607,"price":295},"sapphire amulet":{"id":1675,"price":256},"sapphire bolt tips":{"id":9189,"price":8},"sapphire bolts":{"id":9337,"price":22},"sapphire bracelet":{"id":11072,"price":440},"sapphire necklace":{"id":1656,"price":423},"sapphire ring":{"id":1637,"price":375},"saradomin brew (3)":{"id":6687,"price":1085},"sardine":{"id":325,"price":10},"scrambled egg":{"id":7078,"price":36},"sea turtle":{"id":397,"price":2973},"shark":{"id":385,"price":1139},"shieldbow":{"id":839,"price":22},"shieldbow (u)":{"id":48,"price":16},"shortbow":{"id":841,"price":34},"shortbow (u)":{"id":50,"price":8},"shrimps":{"id":315,"price":22},"silver bar":{"id":2355,"price":206},"silver bolts":{"id":9145,"price":5},"silver bolts (unf)":{"id":9382,"price":2},"silver dust":{"id":7650,"price":504},"silver ore":{"id":442,"price":80},"silver sickle":{"id":2961,"price":93},"sinew":{"id":9436,"price":350},"skewered beast":{"id":9992,"price":103},"skewered bird meat":{"id":9984,"price":140},"skewered rabbit":{"id":7224,"price":120},"sliced mushrooms":{"id":7080,"price":158},"slimy eel":{"id":3379,"price":1270},"smelting urn (nr)":{"id":20284,"price":410},"snakeskin":{"id":6289,"price":2312},"snakeskin bandana":{"id":6326,"price":397},"snakeskin body":{"id":6322,"price":6919},"snakeskin boots":{"id":6328,"price":8768},"snakeskin chaps":{"id":6324,"price":521},"snakeskin vambraces":{"id":6330,"price":4397},"snapdragon potion (unf)":{"id":3004,"price":5341},"snape grass":{"id":231,"price":283},"soft clay":{"id":1761,"price":334},"spicy sauce":{"id":7072,"price":94},"spider on shaft":{"id":6295,"price":113},"spider on shaft (raw)":{"id":6299,"price":82},"spider on stick":{"id":6297,"price":60},"spider on stick (raw)":{"id":6293,"price":211},"spider orb":{"id":25658,"price":131},"spider silk":{"id":25547,"price":350},"spider silk boots":{"id":25841,"price":95},"spider silk gloves":{"id":25843,"price":67},"spider silk hood":{"id":25835,"price":314},"spider silk robe bottom":{"id":25839,"price":506},"spider silk robe top":{"id":25837,"price":738},"spider wand":{"id":25650,"price":137},"spirit weed potion (unf)":{"id":12181,"price":2071},"steel 2h crossbow":{"id":25923,"price":461},"steel 2h sword":{"id":1311,"price":292},"steel arrow":{"id":886,"price":13},"steel arrowheads":{"id":41,"price":40},"steel bar":{"id":2353,"price":1035},"steel battleaxe":{"id":1365,"price":115},"steel bolts":{"id":9141,"price":58},"steel bolts (unf)":{"id":9378,"price":42},"steel brutal":{"id":4783,"price":29},"steel c'bow (u)":{"id":9459,"price":97},"steel chainbody":{"id":1105,"price":173},"steel claw":{"id":3097,"price":6},"steel crossbow":{"id":9179,"price":149},"steel dagger":{"id":1207,"price":30},"steel dart":{"id":808,"price":3},"steel dart tip":{"id":821,"price":53},"steel full helm":{"id":1157,"price":97},"steel hatchet":{"id":1353,"price":35},"steel helm":{"id":1141,"price":57},"steel kiteshield":{"id":1193,"price":225},"steel knife":{"id":865,"price":17},"steel limbs":{"id":9425,"price":127},"steel longsword":{"id":1295,"price":116},"steel mace":{"id":1424,"price":29},"steel nails":{"id":1539,"price":20},"steel pickaxe":{"id":1269,"price":1026},"steel platebody":{"id":1119,"price":2210},"steel platelegs":{"id":1069,"price":273},"steel plateskirt":{"id":1083,"price":263},"steel scimitar":{"id":1325,"price":75},"steel sq shield":{"id":1177,"price":85},"steel studs":{"id":2370,"price":780},"steel sword":{"id":1281,"price":81},"steel throwing axe":{"id":802,"price":20},"steel warhammer":{"id":1339,"price":200},"stew":{"id":2003,"price":901},"strength mix (2)":{"id":11443,"price":94},"strength potion (2)":{"id":117,"price":529},"strength potion (3)":{"id":115,"price":544},"stripy feather":{"id":10087,"price":24},"strong cooking urn (nr)":{"id":20368,"price":785},"strong fishing urn (nr)":{"id":20338,"price":637},"strong mining urn (nr)":{"id":20398,"price":756},"strong smelting urn (nr)":{"id":20290,"price":615},"strong woodcutting urn (nr)":{"id":20314,"price":671},"studded body":{"id":1133,"price":251},"studded chaps":{"id":1097,"price":220},"studded leather boots":{"id":25823,"price":801},"studded leather gloves":{"id":25877,"price":934},"studded leather shield":{"id":25810,"price":223},"summer pie":{"id":7218,"price":1332},"summoning potion (3)":{"id":12142,"price":2834},"super antipoison (2)":{"id":183,"price":145},"super antipoison (3)":{"id":181,"price":245},"super attack (2)":{"id":147,"price":1000},"super attack (3)":{"id":145,"price":1885},"super attack mix (2)":{"id":11469,"price":242},"super defence (2)":{"id":165,"price":319},"super defence (3)":{"id":163,"price":774},"super defence mix (2)":{"id":11497,"price":30},"super energy":{"id":3022,"price":1176},"super energy (2)":{"id":3020,"price":2498},"super energy (3)":{"id":3018,"price":2629},"super energy mix (2)":{"id":11481,"price":884},"super guthix rest (3)":{"id":28209,"price":2085},"super magic mix (2)":{"id":11513,"price":1209},"super magic potion":{"id":3046,"price":2938},"super magic potion (2)":{"id":3044,"price":6465},"super magic potion (3)":{"id":3042,"price":9816},"super ranging mix (2)":{"id":11509,"price":4934},"super ranging potion":{"id":173,"price":3745},"super ranging potion (2)":{"id":171,"price":7435},"super ranging potion (3)":{"id":169,"price":11947},"super restore (2)":{"id":3028,"price":2427},"super restore (3)":{"id":3026,"price":4246},"super restore mix (2)":{"id":11493,"price":2104},"super saradomin brew (3)":{"id":28193,"price":16646},"super strength (2)":{"id":159,"price":2525},"super strength (3)":{"id":157,"price":4465},"super strength mix (2)":{"id":11485,"price":626},"super zamorak brew (3)":{"id":28201,"price":1947},"swamp tar":{"id":1939,"price":280},"swordfish":{"id":373,"price":303},"tarromin potion (unf)":{"id":95,"price":190},"tarromin tar":{"id":10144,"price":317},"teak logs":{"id":6333,"price":647},"teak stock":{"id":9446,"price":11},"thin snail":{"id":3363,"price":1494},"thin snail meat":{"id":3369,"price":711},"tiara":{"id":5525,"price":23},"tin ore":{"id":438,"price":62},"toad's legs":{"id":2152,"price":452},"toadflax potion (unf)":{"id":3002,"price":4640},"tomato":{"id":1982,"price":32},"topaz bolt tips":{"id":9188,"price":28},"topaz bolts":{"id":9336,"price":72},"torstol potion (unf)":{"id":111,"price":8322},"toy doll":{"id":7763,"price":3793},"toy mouse":{"id":7767,"price":4329},"toy soldier":{"id":7759,"price":3831},"trout":{"id":333,"price":63},"tuna":{"id":361,"price":151},"tuna and corn":{"id":7068,"price":1119},"tuna potato":{"id":7060,"price":1386},"ugthanki meat":{"id":1861,"price":825},"uncooked apple pie":{"id":2317,"price":374},"uncooked berry pie":{"id":2321,"price":1716},"uncooked cake":{"id":1889,"price":1043},"uncooked curry":{"id":2009,"price":3708},"uncooked egg":{"id":7076,"price":42},"uncooked meat pie":{"id":2319,"price":1348},"uncooked pizza":{"id":2287,"price":626},"uncooked stew":{"id":2001,"price":1418},"uncut diamond":{"id":1617,"price":5839},"uncut dragonstone":{"id":1631,"price":15937},"uncut emerald":{"id":1621,"price":2594},"uncut jade":{"id":1627,"price":373},"uncut onyx":{"id":6571,"price":1081034},"uncut opal":{"id":1625,"price":189},"uncut red topaz":{"id":1629,"price":765},"uncut ruby":{"id":1619,"price":3403},"uncut sapphire":{"id":1623,"price":1223},"unfinished broad bolts":{"id":13279,"price":27},"unicorn horn dust":{"id":235,"price":2456},"unpowered orb":{"id":567,"price":186},"unstrung emblem":{"id":1720,"price":107},"unstrung symbol":{"id":1714,"price":55},"vial":{"id":229,"price":1},"vial of water":{"id":227,"price":42},"water battlestaff":{"id":1395,"price":8317},"water orb":{"id":571,"price":1379},"weapon poison++ (3)":{"id":25503,"price":11527},"weapon poison (3)":{"id":25487,"price":100},"wergali potion (unf)":{"id":14856,"price":2258},"white bead":{"id":1476,"price":3779},"white berries":{"id":239,"price":935},"wild pie":{"id":7208,"price":565},"willow branch":{"id":5933,"price":1280},"willow logs":{"id":1519,"price":23},"willow shieldbow":{"id":847,"price":95},"willow shieldbow (u)":{"id":58,"price":45},"willow shortbow":{"id":849,"price":60},"willow shortbow (u)":{"id":60,"price":33},"willow stock":{"id":9444,"price":8},"wimpy feather":{"id":11525,"price":925},"wine of guthix":{"id":28253,"price":1146},"wine of saradomin":{"id":28256,"price":18921},"wine of zamorak":{"id":245,"price":5238},"woodcutting urn (nr)":{"id":20308,"price":668},"wooden cat":{"id":10891,"price":4351},"wooden stock":{"id":9440,"price":4},"wool":{"id":1737,"price":154},"wyvern bonemeal":{"id":6812,"price":3371},"yak-hide armour (legs)":{"id":10824,"price":68},"yak-hide armour (top)":{"id":10822,"price":115},"yellow bead":{"id":1472,"price":4007},"yellow feather":{"id":10090,"price":32},"yew logs":{"id":1515,"price":361},"yew roots":{"id":6049,"price":2779},"yew shieldbow":{"id":855,"price":530},"yew shieldbow (u)":{"id":66,"price":251},"yew shortbow":{"id":857,"price":328},"yew shortbow (u)":{"id":68,"price":285},"yew stock":{"id":9452,"price":92},"zamorak brew (2)":{"id":28203,"price":2154},"zamorak brew (3)":{"id":189,"price":491},"zamorak mix (2)":{"id":11521,"price":679},"adamant burial armour":{"id":20624,"price":0},"adamant ceremonial sword":{"id":20534,"price":0},"adamant ingot i":{"id":20570,"price":0},"adamant ingot ii":{"id":20570,"price":0},"adamant ingot iii":{"id":20570,"price":0},"adamant ingot iv":{"id":20570,"price":0},"adrenaline potion (3)":{"id":26605,"price":0},"broad arrow":{"id":4160,"price":0},"cave nightshade":{"id":2398,"price":0},"clean rogue's purse":{"id":1534,"price":0},"clean snake weed":{"id":1526,"price":0},"crab meat":{"id":7518,"price":0},"extreme attack (3)":{"id":15309,"price":0},"extreme defence (3)":{"id":15317,"price":0},"extreme magic (3)":{"id":15320,"price":0},"extreme ranging (3)":{"id":15325,"price":0},"extreme strength (3)":{"id":15313,"price":0},"frog spawn":{"id":5004,"price":0},"gorak claw powder":{"id":9018,"price":0},"iron burial armour":{"id":20624,"price":0},"iron ceremonial sword":{"id":20534,"price":0},"iron ingot i":{"id":20503,"price":0},"iron ingot ii":{"id":20503,"price":0},"iron ingot iii":{"id":20503,"price":0},"iron ingot iv":{"id":20503,"price":0},"magic essence (3)":{"id":9022,"price":0},"mithril burial armour":{"id":20624,"price":0},"mithril ceremonial sword":{"id":20534,"price":0},"mithril ingot i":{"id":20569,"price":0},"mithril ingot ii":{"id":20569,"price":0},"mithril ingot iii":{"id":20569,"price":0},"mithril ingot iv":{"id":20569,"price":0},"overload (3)":{"id":15333,"price":0},"phoenix feather":{"id":4621,"price":0},"rubium":{"id":12630,"price":0},"rune burial armour":{"id":20624,"price":0},"rune ceremonial sword":{"id":20534,"price":0},"rune ingot i":{"id":20571,"price":0},"rune ingot ii":{"id":20571,"price":0},"rune ingot iii":{"id":20571,"price":0},"rune ingot iv":{"id":20571,"price":0},"serum 207 (3)":{"id":3410,"price":0},"star flower":{"id":9017,"price":0},"steel burial armour":{"id":20624,"price":0},"steel ceremonial sword":{"id":20534,"price":0},"steel ingot i":{"id":20568,"price":0},"steel ingot ii":{"id":20568,"price":0},"steel ingot iii":{"id":20568,"price":0},"steel ingot iv":{"id":20568,"price":0},"strip of cloth":{"id":3224,"price":0},"super antifire (3)":{"id":15305,"price":0},"super fishing explosive":{"id":12633,"price":0},"super prayer (3)":{"id":15329,"price":0}};

var lastUpdate = Date.now();
var itemIdList = []; for(var i in itemDb){ itemIdList.push(itemDb[i].id); }
var idToObj = {}; for(var i in itemDb){ idToObj[itemDb[i].id] = itemDb[i]; }
var idToName = {}; for(var i in itemDb){ idToName[itemDb[i].id] = i; }

var displayUpdate = 1;

	
/*
Init.db.rscalc = function(){
	
	db.rscalc.findOne({},{},function(err,res){
		if(err) return ERROR.err(3,err);
		
		if(res === null){
			db.rscalc.insert({item:itemDb,lastUpdate:Date.now()},db.err);
		} else {
			try {
				itemDb = res.item;
				lastUpdate = res.lastUpdate;
			} catch(err){ ERROR.err(3,err); }	
		}
	});
	
}
*/

var updateItemDb = function (){
	var count = 0;
	var interval = setInterval(function(){ 
		if(count < itemIdList.length){ 
			count++;
			updatePrice(itemIdList[count]);
			lastUpdate = Date.now();
		} else {
			count = 0;
			clearInterval( interval );
			if(displayUpdate >= 1) INFO('Item Database Updated');
			//db.rscalc.update({},{'$set':{item:itemDb,lastUpdate:Date.now()}},db.err);
		}	
	}, 8000);
}

var updatePrice = function (id){
	try {
		if(idToObj[id].price === 0) return;
		
		var str = 'http://services.runescape.com/m=itemdb_rs/api/graph/' + id + '.json';
		
		request(str, function (e, res, body) {
			try {
				if(!body) return ERROR(3,str);
				var price = JSON.parse(body).daily;
				for(var i in price){ }
				price = price[i];
				
				idToObj[id].price = price;
				
				if(displayUpdate >= 2) INFO('Item: ' + idToName[id] + ' - New Price: ' + idToObj[id].price);
				
			} catch (err) { ERROR(3,str,err.stack);}
		});
	} catch (err) { ERROR(3,str,err.stack);}
}

if(NODEJITSU || false){
	setInterval(updateItemDb,1000*60*60*4);	//each 4 hours
	setTimeout(updateItemDb,2000);	//to be after db fetch
}


var appPostGetExp = function(req,res){
	var str = 'http://hiscore.runescape.com/index_lite.ws?player='
	str += req.body.name;
	
	request(str, function (e, ress, body) {
		if(!ress || ress.statusCode !== 200){ res.send('error'); }
		else {
			var str = parseExp(body);
			res.send(str);			
		}
	});	
}

var parseExp = function (str){
	str += ']]';
	str = '[[' + str;
	str = str.replaceAll('\n','],[');
	
	var obj = {};
	var str = JSON.parse(str);
	for(var i in apiSkillList){
		obj[apiSkillList[i]] = str[i][2];
	}
		
	return JSON.stringify(obj);

}

//obj_big => 96x96 instead of 32x32
//http://services.runescape.com/m=itemdb_rs/4451_obj_big.gif?id=31291


//problem: 


