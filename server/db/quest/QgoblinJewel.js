var q = Quest.template('QgoblinJewel','v1.0');
eval(Quest.template.eval(q));

q.variable = {
	killedGoblinBoss:false,
	gotJewel:false,
	goblinKillCount:0,
	gotFlower:0,
	gotOrc:0,
	
};


q.event = {
	hint:function(key){
		if(!get(key,'started')) return 'You can start this quest by talking to the guy south west of Goblin Land';
		
		return "Good luck!";
	},
	test:function(key){
		teleport(key,'goblinLand','a');
	
	},
	start:function(key){
		teleport(key,'goblinLand','a');
		getAct(key).respawnLoc.recent = {x:1808,y:5712,map:'goblinLand@MAIN'};
		getAct(key).respawnLoc.safe = {x:1808,y:5712,map:'goblinLand@MAIN'};
		
	},
	disconnect:function(key){
		
	
	},
	complete:function(key){
		set(key,'complete',true);
	},
	
	talkNpc:function(key){
		if(!get(key,'started')){ dialogue(key,'ringo','intro','first'); return; }
		if(!haveItem(key,'potion')){  dialogue(key,'ringo','intro','second-prePotion'); return; }
		if(haveItem(key,'potion') && !haveItem(key,'jewel')){  dialogue(key,'ringo','intro','second-postPotion'); return; }
		if(haveItem(key,'jewel')){ dialogue(key,'ringo','intro','second-postJewel'); return; }
	},
	givePotion:function(key){
		set(key,'started',true);
		addItem(key,'potion_unf');
	},
	getFlower:function(key){
		addItem(key,'flower');
		set(key,'gotFlower',true);
	},
	seeFlower:function(key){
		return !haveItem(key,'flower');
	},
	completePotion:function(key){
		if(haveItem(key,'potion_unf') && haveItem(key,'orc_sock') && haveItem(key,'flower')){
			removeItem(key,'potion_unf');
			removeItem(key,'orc_sock');
			removeItem(key,'flower');
			addItem(key,'potion');
			chat(key,"You completed the potion by adding Orc Socks and the Mystical flower.");
		} else chat(key,"You don't have all the ingredients needed.");	
			
	},
	usePotion:function(key){
		sprite(key,'orc-melee');
	},
	removePotionEffect:function(key){
		sprite(key,'mace');
	},
	killOrc:function(key){
		if(Math.random()<0.25){
			addItem(key,'orc_sock');
			chat(key,"You managed to grab his socks!");
			set(key,'gotOrc',true);
		}
	},
	killGoblin:function(key){
		if(Math.random()<0.25){
			addItem(key,'orc_sock');
			chat(key,"You managed to grab his socks!");
		}
	},
	openJewelChest:function(key){
		if(testItem(key,'jewel')){
			set(key,'gotJewel',true);
			addItem(key,'jewel');
			return true;
		}
		return false;
	},
	teleportInUnderground:function(key){
		if(get(key,'goblinKillCount') > 5)	teleport(key,'goblinLand_underground','a');	//TOFIXQUEST
		else chat(key,"You should kill more goblins first to make them angry with orcs.");
	},
	teleportOutUnderground:function(key){
		if(get(key,'gotJewel'))	teleport(key,'goblinLand_boss@@','a');
		else teleport(key,'goblinLand','a');
	},
	bossCutscene:function(key){
		freeze(key);
		dialogue(key,'goblin','intro','first');
	},
	endBossCutscene:function(key){
		unfreeze(key);
		var boss = getEnemy(key,'goblinBoss');
		boss.combat = 1;
	},
	killGoblinBoss:function(key){
		set(key,'killedGoblinBoss',true);
	},
	seeBlock:function(key){
		return !get(key,'killedGoblinBoss');
	},
};	

q.item['potion_unf'] = {'name':'Unfinished Potion','icon':'magic.staff','drop':0,'bank':0,'option':[		
	{'name':'Finish potion','description':'Requires 1 mystical flower and 1 orc socks.','param':[],'func':q.event.completePotion},
]};	

q.item['orc_sock'] = {'name':'Orc Sock','icon':'magic.staff','drop':0,'bank':0,'option':[		

]};

q.item['flower'] = {'name':'Mystical Flower','icon':'magic.staff','drop':0,'bank':0,'option':[		

]};

q.enemy["boss"] = {  //{
	"name":"Goblin",
	"sprite":{'name':"goblin",'sizeMod':1},
	"abilityList":[],
	'deathExp':1,
	"mastery":{'def':{'melee':0.5,'range':0.5,'magic':0.5,'fire':2,'cold':2,'lightning':2},
				'dmg':{'melee':1,'range':1,'magic':1,'fire':1,'cold':1,'lightning':1}},	
	"acc":0.5,
	"maxSpd":10,
	"boss":Q+'-test',
	"moveRange":{'ideal':250,"confort":25,"aggressive":500,"farthest":600},	
	'target,maxAngleChance':10,
	'resource,hp,regen':0,
}; //}

q.dialogue['goblin'] = {'face':{'image':'bad-monster.0','name':'Ringo'},
	'intro':{
		'first':{
			'text':"Did you really think you could escape so easily? Prepare to die, orc!",
			'end':0,
			'option':[
				{'text':"Show me what you got, noob!",func:q.event.endBossCutscene}
			],
		},
	}
}

q.dialogue['ringo'] = {'face':{'image':'villager-male.0','name':'Ringo'},
	'intro':{
		'first':{
			'text':"Hey! My name's Ringo! Guess what, I need your help! Wanna help me out real quick, man?",
			'option':[
				{'text':"Sure. Why not!",next:{node:'yes'}},
				{'text':"No",next:{node:'no'}},
			],
		},
		'no':{
			'text':"Ah, come on man. I need your help... I know you will change your mind someday. I'll be standing still until you do!",
		},	
		'yes':{
			'text':"There's a group of goblins north of here and they keep attacking my village. It's pissing me off.",
			'option':[
				{'text':"Why are they attacking the village?",next:{convo:'quest',node:'whyAttack'}},
				{'text':"What's your plan?",next:{convo:'quest',node:'plan'}},
			],
		},
		'second-prePotion':{
			'text':"Oh, you're back already!",
			'option':[
				{'text':"What am I supposed to do again?",next:{convo:'question',node:'pre-potion'}},
				{'text':"Where can I find orcs?",next:{convo:'question',node:'orc'}},
				{'text':"Where can I find a Mystical flower?",next:{convo:'question',node:'flower'}},
			],
		},
		'second-postPotion':{
			'text':"Oh, you're back already!",
			'option':[
				{'text':"What am I supposed to do again?",next:{convo:'question',node:'post-potion'}},
			],
		},
		'second-postJewel':{
			'text':"Oh my god! You did it! My plan worked! It's a miracle!",
			'option':[
				{'text':"Wait? You thought it wouldn't work?",next:{convo:'quest',node:'complete'}},
			],
		},
	},
	'quest':{
		'whyAttack':{
			'text':"Let just say that I 'borrowed' one of their precious jewels. And apparently, they didn't like it much... They get angry very easily, you know.",
			'option':[
				{'text':"Why don't you just give it back?",next:{node:'whyGiveBack'}},
				{'text':"What's your plan?",next:{node:'plan'}},
			],
		},
		'whyGiveBack':{
			'text':"Wait, what? What did I just say? Oh damn... I wanted to say that 'someone', which is obviously not me, 'borrowed' their jewel. But anyway, that's not the point, let's just change topic to something more important.",
			'option':[
				{'text':"Okay? So what's your plan?",next:{node:'plan'}},
			],
		},
		'plan':{
			'text':"I know for a fact that they own a second jewel. I didn't manage to steal it last time. Oh damn... I mean 'the thief' didn't manage to steal it last time.",
			'option':[
				{'text':"Continue",next:{node:'plan2'}},
			],
		},
		'plan2':{
			'text':"Anyway, I got a plan! A genius plan! My plan is so freaking smart that there's no way something could go wrong with it. Trust me, I'm an expert at this kind of stuff.",
			'option':[
				{'text':"Continue",next:{node:'plan3'}},
			],
		},
		'plan3':{
			'text':"You take the appearance of an orc then you steal by force the second jewel! That's so smart, right! The goblins will be soooo pissed off against orcs that they will attack them instead of us!",
			'option':[
				{'text':"That's a dumb plan...",next:{node:'planDumb'}},
				{'text':"That sounds like an AMAZING plan.",next:{node:'plan4'}},
				{'text':"That sounds like an AMAZING plan. Kappa",next:{node:'planKappa'}},
			],
		},
		'planDumb':{
			'text':"Just trust me, my plans work every time, 25% of the time.",
			'option':[
				{'text':"...",next:{node:'plan4'}},
			],
		},
		'planKappa':{
			'text':"You're not on Twitch, you fool.",
			'option':[
				{'text':"...",next:{node:'plan4'}},
			],
		},
		'plan4':{
			'text':"Glad you like my plan! How couldn't you like it anyway, right? So, in order to take the appearance of an orc, you will first need to put your hands on a piece of orc and and on the Mystical Flower.",
			'option':[
				{'text':"Wait, where do I put my hand on the orc body exactly?",next:{node:'orcHand'}},
				{'text':"And then what do I do?",next:{node:'plan5'}},
			],
		},
		'orcHand':{
			'text':"Are you trolling me? 'Put your hands on' as in 'get'... Just get a piece of clothing of something.",
			'option':[
				{'text':"Ahhhh, that makes more sense now.",next:{node:'plan5'}},
			],
		},
		'plan5':{
			'text':"Here take this unfinished potion. Once you got the orc clothing and the Mystical Flower, complete the potion and use it.",
			func:q.event.givePotion,
			'option':[
				{'text':"Where can I find orcs?",next:{convo:'question',node:'orc'}},
				{'text':"Where can I find the Mystical Flower?",next:{convo:'question',node:'flower'}},
			],
		},
		
		'complete':{
			'text':"Oh, my plans are always genius. Most of the time, it's the humans involved that cause problems... Anyway, thanks again for your help. Bye.",
			'option':[
				{'text':"Wait what? Where's my reward?",next:{node:'complete2'}},
			],
		},
		'complete2':{
			'text':"What reward? I never talked about a reward, did I? Just give me the jewel already...",
			'option':[
				{'text':"No reward, no jewel.",next:{node:'complete3'}},
			],
		},
		'complete3':{
			'text':"Okay... Fine... I will increase your maximum HP.",
			'option':[
				{'text':"Thanks.",func:q.event.complete},
			],
		},
	},
	'question':{
		'orc':{
			'text':"The orc village is located north east of here.",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
		'flower':{
			'text':"Mystical flowers are huge white flowers that can normally be found near lakes. I'm sure you will find one in this area.",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
		'pre-potion':{
			'text':"You need to complete the potion with a piece of orc and a Mystical flower.",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
		'post-potion':{
			'text':"I can see you have the potion now. Use it and go in the Goblin village. Find the jewel and bring it back to me!",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
	},
};

//{Map
q.map.goblinLand = function(){
	var m = Init.db.map.baseMap();
	m.name = "Goblin Land";
	m.tileset = "v1.1";
	m.lvl = 0;
	m.grid = ["000000000000000000001100000000000000000000000022222220000000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000000000000110000000000110000000000000000","000000000000000000001100000000000000000000000222222220000000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000000000000110000000000110000000000000000","000000000000000000001100000000000000000000000222222200000000000000000000000000000001110000000000000000000000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000000000001100000000000000000000000222222000000000000000000000000000000001110000000000000001111000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000011110001100000000000000000000000222222000000000000000000000000000000001110000000000000001111000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000011110001100000000111100000000000222222000000000000000000000000000000001110000000000000001111000000000000001111111111111100000000000000000000000000000110000000000110000000000000000","000000000000011110001100000000111100000000000222222000000000000000000000111100000001110000000000000000000000000000000000000000000000000000000000000011110000000001110000000000111000000000000000","000000000000000000001100000000111100022222222222222220000000000000000000111100000001110011110000000000000000000000000000000000000000000000000000000011110000000011110000000000111100000000000000","000111100000000000001100000000000000222222222222222222000000000000000000111100000001110011110000000000000000000000000001111111111111100000000000000011110000011111100000000000011111111100000000","000111100000000000001100000000000002222222222222222222200000000000000000000000000001110011110000000000000000000000000000122222222221000000000000000000000000111111000000000000001111111110111100","000111100000000000001100000000000022222222222222222222200000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000001111111111000000000000111111111111100","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001111101111000000000000011111111111100","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001100001111000000000000000000011000000","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001100000000000000000000001111011000000","000000000000000000001100000000000222222222222222222222200000000000000000111100000001110000000000000000000000000000000000122222222221000000000000000110000001100000000000000000000001111011000000","000000000000000000001100000000002222222222222222222222200000000000000000111100000001110000000000000000000000000000000000122222222221000000000000000110000001100000000000000000000001111011000000","000000000000000000001100011110002222222222222222222222200000000000000000111100000001110000000000000000000000000111100000122222222221000000000000000000000001100000000000000000000000000011000000","000000000000000000001100011110002222222222222222222222200000000000000000000000000011110000000000000000000000000111100000122222222221011110000000000000000001100000000000000000000000000011000000","000000000000000000001100011110002222222222222222222222201111000000000000000000000111110000000000000000000000000111100000122222222221011110000000000000000001100000000000000000000000000011000000","000000000000000000001100000000002222222222222222222222201111000000000000000000001111100000000000000000000000000000000000122222222221011110000000000000000001100000000000000000000000000011000000","000000000001111000001100000000002222222222222222222222201111000000100010000000011111000000000000000000000000000000000000122222222221000000000000000000000001100000000000000000000000000011000000","000000000001111000001100000000002222222222222222222222200000000011100011111111111111111000000000011000000000000000000000122222222221100000000000000000111101100000000000000000000000000011000000","011110000001111000001100000000002222222222222222222222000000000111100011111111111101111000000000100100000000000000000000122222222222110000000000000000111101100000000000000000000000000011000000","011110000000000000001100000000002222222222222222222222000000001111100011111111111001111000000001111110000000000000000000122222222222211000000000000000111101100000000000000000000000000011000000","011110000000000000001100000001111222222222222222222222000000011111100011111111110000011111111001111110000000000000000000122222222222221000000000000000000001100001111100000000000000000011000000","000000000000000000001100000001111022222222222222222222000000011111100011111111100000011111111001111110000001100000000000122222222222221000000000000000000001100010000010000000000000000011000000","000000000000000000001100000001111002222222222222222220000000011100000000000000000000011111111001000010000001100000000000012222222222221000000000000000000001100100000001000000000000000011000000","000000000000000000001100000000000000002222222222200001111000011100000000000000000000000000011111000010000000000000000000001222222222221000000000000000000001100100000001000000000000000011000000","000000000000000000001100000000000000000222222222000001111000011100000000000000000000000000011111000010000000000000000000000122222222221000000000000000000001100110000011000000000000000011000000","000000000000111100001110000000000000000222222222000001111000011100000000000000000000000000011111011010000000000000000000000122222222221000000000000000000001100011000110000000000000000011000000","001110000000111100001111000000000000000111111111000000000000111100000000000000000000000000000001011010111100000000000000000122222222221000011110000000000001100001111100000000000000000011000000","011111000000111100001111111111000000000111111111000000000001111100000000000000000000111100000001000010111100000000000000000122222222221000011110000000000001100000111000000000000000000011000000","110001100000000000000111111111100000000111111111000000000011111000000000000000000000111100000001000010111100000000000000000122222222221000011110000000000001111110000000000000000000000011000000","100000110000000000000011111111110000000000000000000000000111110000000000000000000000111100000001000010000000000000000011110122222222221000000000000000000001111110000000000000000000000011000000","110001110000000000000001111111111000000000000000000000001111100000000000000000000000000000000001000001111111110000000011110122222222221000000000000000000001111110000000000000000000000011000000","111011110000000000000000111111111111111111111111111111111111000000000000000000000000000000000001000000000000001000000011110122222222221000000000000000000001111110000000000000000000000011000000","111111100000000000000000000000111111111111111111111111111110000000000000000000000000000000000001100000000001101000000000000122222222221000000000000000000001111110000000000000000000000011000000","011111000000000000000000000000011111111111111111111111111100000000000000000000000000000000000001111111111101101000000000000122222222221000000000000000000001111110000000000000000000000011000000","001110000000000000000000000000001111111111111111111111111000000000000000000000000000000000000000111111111110001000000000000122222222221000000000000000000001100000000000000000000000000011000000","000100000000011110000000000000000111111111111111111111110000000000000000000000000000000000000000000000000010001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000000000000011110000001111111111111111111111111111111111111111111111111111100000000000000000000000000111110001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000000000000011110000011111111111111111111111111111111111111111111111111111110000000000000000000000000111110001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000111100000000000000111111111111111111111111111111111111111111111111111111111000000000000000000000000111110001000000000000122222222221000110000000000000001100000000000000000000000000011000000","000111100000000000000111111111111111111111111111111111111111111111111111111111000000000000000000000000000011011000000000000122222222221000110000000011110001100000000000000000000000000011000000","000111100000000000000110000000000000000000000000000000000000000000000000000011000000000000000110000000000011111000000110000122222222221000000000000011110001100000001100000000000000000011000000","000000000000000000000110000000000000000000000000000000000000000000000000000011000000000000000110000000000001110000000110000122222222221000000000000011110001100000001100000000000000000011000000","000000000000000000000110000000000000000000000000000000000000000000000000000011001100000000000000000000000000000000000000000122222222221000000000000000000001100000000000000000000000000011000000","000000000110000000000110000100000000000000000000000000000000000000000000000011001100000000000000000000000000000000000000000122222222221000000000000000000001100000000000000000000000111111000000","000000000110000000000110000100000000000000001110000000000000011000000110000011000000000000000000000000000000000000000000000111111111111000000000000000000001100000000000000000000001000001000000","000000000000000000000110000000000000000000001110000000000000011011110110000011000000000000000000000000000000000000000000000111111111111000000000000000000001100000000000000000000010000001000000","000000000000000000001110000000000000000000001110000000000000000011110000000011000000000000000000000000000000000000000000000111111111111000000000000000000011100000000000000000000010000001000000","000000000000000000011110000000000000000000000000000000000000000011110000000011000000000000000000000000000000000000000000001112222222211100001000001000000111100000000000000000000011000001000000","000000000011111111111100000000000000000000000000000000000000000000110000000011000000000000000000000000000000000000000001111112222222211111111000001111111111000000000000000000000001100001000000","000000000111111111111000000000000000000000000000000000000000000000110000000011000000000000000000011110000000000000000011111122222222221111111000001111111110000000000000000000000000111111000000","000000001111111111110000000000000000000000000000000000000000000000000000000011000000000000000000011110000000000000000111111222222222222111111000001111111100000000000000000000000000011111000000","110000001111111111100000000000000000000000000000000000000000000000000000000011000000000000000000011110000000000000001111110222222222222211111000001111111011110000000000000000000000000011000000","110000001100011111100000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000011110000222222222222200000000000000000011110000000000000000000000000011001100","000000001100011111100000000000000000000001111111000000000000000000000000000011000000000000000000000000000000000000111100000222222222222200000000000000000011110000000000000000000011110011001100","000000001101111000000000000000000000000010000000100000000000000000000000000011000000000000000000000000000000000001111011110222222222222200000000000011110000000000000000000000000011110011000000","000000001101111000000000000000000010000010011110100000000000000000000000000011000000000111100000000000000000000011110011112222222222222200000000000011110000000000000000000000000011110011000000","000000001101111111100000000110000010000010011110100000000000000000000000000011000000000111100000000000000000000011100011112222222222222200000000000011110000000000000000000000000000000011000000","000000001101111111100000000110000000000010011110100000000000000000000000000011000000000111100000000011000000000011000000002222222222222200000000000000000000000000000000000110000000000011000000","000000001100000111100000000000000000000010000000100000000000000100000110000011000000000000000000000011000000000011000000002222222222222200000000000000000000000000000000000110000000000011000000","000000001100000111100000000000000000000011000001100000000000000100000110000011000000000000000000000000000000000011000000002222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000011111111100000000000000000000000000011000000000000000000000000000000000011000000022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000001111111000000000000000000000000000011000000000000000000000000000000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000000000000000000000000000000000000000011000011000000000000000000000000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000000000000000000000000000000000000000011000011000000000000000011111000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100000000000000000000000000000000000000001000000000000000000000000011000000000000000000000111111100000011000000022222222222222000000000000000000000000000000000000000000000000011000000","000000001100000111100000000000000000000000000000001000000000000000000000000011000000000000000000001100000110000011000000022222222222222000000000000000000000000111100000000111111111111110000000","000000001101100111100000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222222000000000000000000000000111100000001111111111111100000000","000000001101100111100000000000000000000011110000000000000000000000000000000011000000000000000000011000110011000011000000222222222222220000000000000000000000000111100000011000000000000000000000","000000001100000111100000000000000000000011110000000000000000000000000000000011000000000000000000011000110011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100000000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100110000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100110000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110001111000000000000000","000000001100000000110000010000000000000000000000000000000000000000000000000011000000001111111111110000000011000011000000222222222222220000000000111100000000000000000000110001111000000000000000","000000000110000000110000010000000000000000000000000000000000000000000000000011000000011111111111100001100011000011000000222222222222200000000000111100000000000000000000110001111000000000000000","000000000011000000000000000000000000000000000000000000000000000000000000111011000000110011000000000001100011000011000002222222222222200000000000111100000000000000000000110000000000000111100000","000000000001100000000000000000000000000000000000000000000000000000000000111011000001100011000000000000000011000011000002222222222222200000000000000000000000000110000000110000000000000111100000","000000000000110000000000000000000000000000000000011000000000000000000000111011000001100000000110000000000011000011000002222222222222200000000000000000000000000110000000110000000000000111100000","000000000000011000000000000000000000000000010000011000000000000000000000111011000001100000000110000110000011000011000002222222222222200000000000000000000000000000000000110000000000000000000000","000000000000001100000000000000000000000000010000000000000000000000000000111011000001100000000000000110000011000011000002222222222222200000000000000000000000000000000000111000000000000000000000","000000000000000110000000000000000000000000000000000000000000000000000000111011000001110000000000000000000111000011000022222222222222200000000000000000000000000000000000111100000000000000000000","001111000000000011000000000000000000000000000000000000000000000000000000000011000001111000000000000000001111000011000022222222222222200000000000000000000000000000000000011111111111111111100000","001111000000000001100000000000000000000000000000000000000000000000000000000011000000111111111111111111111110000011000022222222222222200000000000000001100000000000000000001111111111111111110000","001111000000000000111111111111111111111111111111111110000000000000000111111110000000011111111111111111111100000011000022222222222222200000000000000001100000000000000000000111111111111111111000","000000000000000000011111111111111111111111111111111111000000000000001111111100011110001111111111111111111000000011000222222222222222200000000000000000000000000000000000000011111111111111111000","000000000000000000000000000000000000000111111111111001100000000000011000000000011110000111111111111111110000110011000222222222222222200000000000000000000000001111000000000000000000000000011000","000000000000000000000000000000000000001000000000000100111110000011110000000000011110000000000000000000000000110011000222222222222222200000000000000000000000001111000000000000000000001111011000","000000000000000011110000000000000000001100000000001100111111000111110000000000000000000000000000000000000000000011000222222222222222200000000000000000000000001111000000000000000000001111011000","000000000000000011110000000001100000001111111111111100111111000111111000000000000000000000000000000000000000000111002222222222222222200000000000000000000000000000000000000000000000001111011000","000000000000000011110000000001100000000111111111111000110000000000111100000000000000000000000000000000000000001111002222222222222222200000000000000000000000000000000000000000000000000000011000","000001111000000000000000000000000000000000000000000001110000000000011111111111111111111111111111111111111111111110002222222222222222200000000000000000000000000000000000000000000000000000011000","000001111000000000000000000000000000000000000000000011110000000000001111111111111111111111111111111111111111111100002222222222222222200000000000000000000000000000011110000000000000000000011000","000001111000011000000000000011111111111111111111111111100000000000000111111111111111111111111111111111111111111000002222222222222222200000000000000000000000000000011110000000000000000000011000","000000000000011000000000000111111111111111111111111111000000000001111011111111111111111111111111111111111111110000002222222222222222200011000000000000000000000000011110000000000000000000011000","000000000000000000000000001111111111111111111111111110000000000001111000000000000000000000000000000000000000000000002222222222222222200011000000000000000000000000000000000000000000001111011000","011000000000000000000000011111111111111111111111111100000000000001111000000000000000000000000000000000000000000000002222222222222222200000000000000000000000000000000000000000000000001111011000","011000000000000000000000011111111111111111110000000000000000000000000000000000000000000000000000000000000000000000002222222222222222220000000000000000000000000000000000000000000000001111011011","000000000000000001111000011011111111111111110000000000000000000000000000000000000001111111111111111000000000000000002222222222222222220000000000000000000000000000000000000000000000000000011011","000000000000000001111000011011110111111111110000000011110000000000000000000000000010000000000011100100000000000000002222222222222222220000000000000000000000000000000000000000000000000000011000","000000000000000001111000111111111111111111111100000011110000000000000000011000000100011110000011100010000000000000002222222222222222222000000000000000000000000000000000000000000000000000011000","000000001111000000000001111111111111111111111100000011110000000000000000011000000100011110000011100010000000000000002222222222222222222000000000000000000000000000000000000000000000000000011000","000000001111000000000011111111111111111111111100000000000000000000000000000000000100011110000011100010001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000001111000000000111111111111111111111110000000000000000000000000000000000000110011110000000000110001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000000000000000001111111111111111111111110000000000000000000000000000000000000011000000000000001100001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000000000000000011110111111111111111111110000000000000000000000000000000000000001111111111111111000000000000000022222222222222222222220000000000111100000000000000000000000000000000000011000","000000000000000000111111111111111100000000000000000000000000000000000000000000000000111111111111110000000000000000022222222222222222222220000000000111100000000000000000000000000000000000011000","000000000000000000111011111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000000111100000000000000000000000000000000000011000","000000000000000000110011111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000000000000000000000000000000000001111000000011000","000000000000000000111111111111110000000000000000000000000000000000000000000000000000000000000000000000001111000000022222222222222222222222200000000000000000000000000000000000001111000000011000","110000000000000000111111111111110000000000000000110000000000000000000000000000000000000000000000000000001111000000002222222222222222222222200000000000000000000000000000000000001111000000011000","110000000000000000111111111111110000000000000000110000000000000000000000000000000000000000011000000000001111000000002222222222222222222222200000000000000000000000000000000000000000000000011000","110000000000000000110011111111000000000000000000000000000000000000000000000000000000000000011000000000001111000000002222222222222222222222220000000000000000000000000000000000000000000000011000","000000000000000001110011111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222220000000000000000000000000000000000000000011111110000","000000000000000011110011111111000000000011100000000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222222000000000000000000000000000000000000000111111100000","000001111111111111100000111100000000000011100000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000011110000000000000000000000000001100000000000","000011111111111111000000111100000000000011100000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222200000011110000000000000000000000000011001110000000","000111111111111110000000111100000000000011100000000000000000111100000000000000000000000000000000000000000000000000000002222222222222222222222200000011110000000000000000000000000011001110000000","000111111111111100000000000000000000000000000000011110000000111100000000000000000000000000000000000000000000000000000002222222222222222222222200000000000000000000000000000000000011001110000000","000110000000000000000000000000000000000000000000011110000000111100000001111000000000000000000000000000000000000000000000222222222222222222222220000000000000000111100000000000000011001110000000","000111111111100000000000000000000000000000000000011110000000000000000001111000000000000000000000000000000000000000000000222222222222222222222220000000000000000111100000000000000011000000000000","000111111111100000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000022222222222222222222222000000000000000111100000000000000011000000111100","000111111111100000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000011000000111100","000111111000000000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000022222222222222222222200000000000000000000000000000000011100000111100","000111111000000000000000000000000000000000000000000000000000000000000111111110000000000000000000111100000000000000000000000022222222222222222222200000000000000000000000000000000011110000000000","000111111000000000111100000000000000000000000000000000000000000000000000011110000000000000000000111100000000000000000000000002222222222222222222220000000000000000000000000000000001111110000000","000110000000000000111100000000000000000000000000000000000000000000000000011110000000000000000000111100000000000000000000000002222222222222222222220000000000000000000000000000000000111111000000","000110000000000000111100000000000000000000000000000001111000000000000000011110000000000000000000000000000000000000000000000000222222222222222222220000000000000000000000000000000000011111100000","000110000000000000000000000000000000011110000000000001111000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000001111100000","000110000000000000000000000000000000011110000000000001111000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000000001100000","000110000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000111100022222222222222222222200000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111100000000000000000111100022222222222222222222200000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111110000000000000000111100022222222222222222222220000000000000000000000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000011000000000011000000000000000000000002222222222222222222222200000000000000000000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222222000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222222000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000111000000000000000000110000011110001100000000000000000000002222222222222222222222222200000000000000000000000000000001100000","000110011110000000000000000000000000000000000000000000000001111000000111000000011111111111100000011110001100000000000000000000002222222222222222222222222200000000000000000000000000000001100000","000110011110000000000000000000000000000000000000000000000001111000000111000000111111111111000000011110001100000000000000000000002222222222222222222222222220000000000000000000000011110001100000","000110011110000000000000000000000000000000000000000000000001111000000111000001100000000000000000000000001100011000000000000000002222222222222222222222222220000000000000000000000011110001100000","000110000000000000000000000000000000000000000000000000000001111000000000000011000000000000000000000000001100011000000000011110000222222222222222222222222222000000000000000000000011110001100000","000110000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000001100000000000000011110000222222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000110000000000000000000000000000000011000011110000000000000000001100000000000000011110000022222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000110000000111111111111111111111111110000011110000000000000000001100000000000000000000000022222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000000000001111111111111111111111111100000011110000000000000000001100000000000000000000000002222222222222222222222222200000000000000000000000000001100000","000110000000000000000000000000000000000000000000011000000000000000000000000000000000000000000001111000001100000000000000000000000002222222222222222222222222200000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000001111000000111111000000000000000000000222222222222222222222222220000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000001111000000011111100000000000000000000000222222222222222222222220000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000000000000000000000110000000000000000000000222222222222222222222220000000000000000000000011101100000","000110000000000000000000000000000000000000000000110000011110001111000000000000000000000000000000000000001111000011000000000000000000000222222222222222222222222000000000000000000000011101100000","000110000000000000000000000000000000000111100000110000000000001111000000000001111000000001111000000000001111000011000000000000000000000022222222222222222222222000000000000000000000011101100000","000110000000000000000000000000000000000111100000110000000000001111000000000001111000000001111000000000001111000011000000000000000000000011111111111111111111111111100000000000000000011101100000","000110000000000000000000000011100000000111100000110000000000000000000000000001111000000001111000000000001111000111000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000111000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000111100001111000000000000000000000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000011110001111111100000011110000000000000000000000000000111111111100000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000001111001111111100000011110000000000000000000000000001111111111000000000000000000000000000000000000000000000000000000000000000111100000001100000","000110000000000000000000000000000000000000000000000111100000111100000011110000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000111100000001100000","000110000000000011110000000000000000000000000000000011110000000000000000000000000000000000000000000111100000000000000000000000000000000011111111111111111111111111100000000000111100000001100000","000110000000000011110000000000000000000000000000000001111111111111111111111111000000001111000000001111000000000000000000000000000000000000222222222222222222222222200000000000000000000001100000","000110000000000011110000000000000000000000000000000000111111111111111111111111100000001111000001111110000000000000000000000000000000000000222222222222222222222222200000000000000000000001100000","000110000000000000000000000000000000000000000000000000011111111111111111111111110000001111000011111100000000000001111000000000000000000000022222222222222222222222200000000000000000000001100000","000110011110000000000000000000000000000001111000000000001111111111111111111111111000000000000111111000000000000001111000000000000000000000022222222222222222222222220000001111111111111111000000","000110011110000000000000000000000000000001111000000000000000000000000000000000111100000000000111110000000000000001111000000000000000000000002222222222222222222222220000011111111111111110000000","000110011110000000000000000000000000000001111000000000000000000000000000011110011110000000000110000000011110000000000000000000000000000000002222222222222222222222220000110000000000000000000000","000110000000000000000000000000000000000000000000000000000000000000000000011110001111000000000110000000011110000000000000000000000000000000002222222222222222222222222001100000000000000000110000","000110000000000000000000000000000000000000000000000000000000000000000000011111111111100000001110000000011110000000000000000000000000111100002222222222222222222222222201100000000000000000110000","000110000000000000000000000000000000000000000000000000000000000000000000000001111011110000011110000000000000000000000000000000000000111100000222222222222222222222222221100000011110000000000000","000110000000000000000000000000000000000000000000000000000000000000000000000001111001111000111101111000000000111100001100000000000000111100000222222222222222222222222221100000011110000000000000","000110000000000000000000000000110000000000000000000000000000000000000000000000000000111111111000011000000000111100001100000000000000000000000222222222222222222222222221100000011110000000000000","000110000000000000000000000000110000000000000000000000000000000000000000000000000000011111110000011000000000111100000000000000000000000000000222222222222222222222222221100000000000000000000000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111110000000111100000000000000000000000000000222222222222222222222222221100000000000000000000000","000011111111111111111111111111000000000000000000000000000000000000000000000000000000000111111111111110000000000000000000000000000000000000000222222222222222222222222221100000000000000000000000","000001111111111111111111111111100000000000000000000000000000000000000000000000000000000001111111111110000000000000000000000000000000000000000222222222222222222222222221110000000000000000000000","000000000000000000000000000000110000000000000000000000000000000000000000000000000000000111111111111111100000000000000000000000000000000000000222222222222222222222222221111000000000000001111000","000000000000000000000000000000011000000000000000000000000000000000000000000000000000000111111111111111100000000000000111100000000000000000110022222222222222222222222222111100000001100001111000","000000000000001111000000000000011000011100000000000000000000000000000000000000000000000111111111111111100000000000000111100000000000000000110022222222222222222222222222211110000001100001111000","000000000000001111000001111000011000011100000000000000000000001111000000000000000000000001111111111111111000000000000111100000000000000000000002222222222222222222222222221111000000000000000000","000000111100001111000001111000011000011100000000000000000000001111000000000000000000000001111111101111111000000000000000000000000000000000000002222222222222222222222222222111100000000000000000","000000111100000000000001111000011000011100000000000000000000001111000000000000000000000001111111101111111000011000000000000000000000000000000002222222222222222222222222222211110000000000000000","000000111100000000000000000000011000000000000000000000000000000000000000000000000000000000011111111111111110011000000000000000000000000000000000222222222222222222222222222221111000000000000000","000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000011110111111111110000000000000000000000000000000000000222222222222222222222222222222111000000000000000","000000000000111100000000000000001111111111111111111111111111000000000000000000000000000000011110111111111110000000000000000000000000000000000000022222222222222222222222222222211000000000000000","000000000000111100000000000000000111111111111111111111111111100000000000000000000000000001111111111111111000000000000000000000000000000000000000022222222222222222222222222222211000000000000000","000000000000111100000000000000000000000000000000000000000000110000000000000000000000000001111111111111111000000000000000000000000000000000000000002222222222222222222222222222211000000000000000","000000000000000000000000000000000000000000000000000000000000011000000000000000000000000001111111111111111001100000000000000000000000000000000000000222222222222222222222222222211000000000110000","000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000011111111111111111111000000000000000000000000000000000000222222222222222222222222222211000000000110000"]
	
	var a = m.addon[Q] = {};
	a.spot = {"F":[5248,5536,0,64],"L":{"x":816,"y":112},"r":{"x":4400,"y":304},"s":{"x":3504,"y":368},"n":{"x":5232,"y":880},"x":{"x":1392,"y":1008},"v":{"x":2448,"y":1040},"w":{"x":2096,"y":1168},"q":{"x":4656,"y":1168},"p":{"x":5616,"y":1232},"t":{"x":3728,"y":1296},"H":{"x":1456,"y":1584},"G":[5024,5664,1568,1600],"o":{"x":5840,"y":1616},"u":{"x":2896,"y":1648},"D":{"x":944,"y":1680},"M":{"x":3728,"y":2288},"C":{"x":1904,"y":2320},"E":{"x":976,"y":2384},"m":{"x":4624,"y":2832},"B":[1920,1984,2880,2912],"A":{"x":1904,"y":2960},"l":{"x":5392,"y":3536},"g":{"x":2192,"y":3664},"e":{"x":1488,"y":3728},"h":{"x":2896,"y":3920},"d":{"x":880,"y":4272},"f":{"x":2128,"y":4272},"i":{"x":3760,"y":4624},"k":{"x":5520,"y":4720},"c":{"x":336,"y":4912},"b":{"x":1168,"y":5264},"I":{"x":1744,"y":5488},"a":{"x":1808,"y":5712},"j":{"x":4080,"y":5872},"P":{"x":2576,"y":6096}}
	a.path = {"blue":[{"x":2128,"y":5584},{"x":1936,"y":5456},25*10,{"x":1552,"y":5584},{"x":1136,"y":5136},{"x":1296,"y":4464},{"x":2192,"y":4688},{"x":2704,"y":4400}]}
	
	a.load = function(spot){
		//Grave
		actor(spot.b,"system","grave",{});
		actor(spot.M,"system","grave",{});
			
		/*
		actor(spot.P,"teleport","zone",{
			angle:90,
			teleport:q.event.teleport,
		});
		
		actor(spot.I,"neutral","jenny",{
			'nevermove':1,
			'angle':90,
			'dialogue':q.event.talkNpc,
		});
		
		actorGroup(spot.d,25*15,[
			["mushroom","normal",4,{deathFunc:q.event.enemyKilled}],
			["larva","normal",5,{deathFunc:q.event.enemyKilled}],
			["plant","normal",4,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.d,25*15,[
			["mushroom","normal",1,{deathFunc:q.event.enemyKilled}],
			["larva","normal",5,{deathFunc:q.event.enemyKilled}],
			["plant","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.C,25*15,[
			["goblin","melee",1,{deathFunc:q.event.enemyKilled}],
			["goblin","range",1,{deathFunc:q.event.enemyKilled}],
			["goblin","magic",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.D,25*15,[
			["orc","melee",1,{deathFunc:q.event.enemyKilled}],
			["orc","range",1,{deathFunc:q.event.enemyKilled}],
			["orc","magic",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.i,25*15,[
			["gargoyle","normal",1,{deathFunc:q.event.enemyKilled}],
			["death","normal",1,{deathFunc:q.event.enemyKilled}],
			["demon","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.k,25*15,[
			["skeleton","normal",1,{deathFunc:q.event.enemyKilled}],
			["spirit","fire",1,{deathFunc:q.event.enemyKilled}],
			["mummy","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.m,25*15,[
			["slime","normal",1,{deathFunc:q.event.enemyKilled}],
			["salamander","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.r,25*15,[
			["bee","normal",1,{deathFunc:q.event.enemyKilled}],
			["bat","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.u,25*15,[
			["bird","red",1,{deathFunc:q.event.enemyKilled}],
			["mosquito","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.p,25*15,[
			["ghost","normal",1,{deathFunc:q.event.enemyKilled}],
			["taurus","normal",1,{deathFunc:q.event.enemyKilled}],
		]);
		
		actorGroup(spot.v,25*15,[
			["dragon","king",3,{deathFunc:q.event.enemyKilled}],
		]);
		*/
	}
	
	a.loop = function(spot){
	
	}
	
	return m;
};
//}

q.boss['test'] = function(){
	var boss = Boss.template('v1.0');
	
	boss.opening = 20;
	
	boss.attack['center'] = {
		'type':"bullet",'angle':20,'amount':10, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1},
		'dmg':{'main':100,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
		'spd':20
	};
	boss.attack['offcenter'] = {
		'type':"bullet",'angle':20,'amount':10, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1},
		'dmg':{'main':200,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
		'spd':30
	};
	boss.attack['360fire'] =	{
		'type':"bullet",'angle':360,'amount':36, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1},
		'dmg':{'main':100,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},
	};
	boss.attack['slowfire'] = {
		'type':"bullet",'angle':60,'amount':4, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1.5},
		'dmg':{'main':300,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
		'spd':15,'maxTimer':250,
	};
	boss.attack['weakfire'] = {
		'type':"bullet",'angle':40,'amount':5, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':0.75},
		'dmg':{'main':50,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
	};
	
	boss.phase[0] = {
		loop:function(boss){
			if(boss.frame % 25 !== 0) return;	//every 25 frame
			
			if(Math.random() < 0.5){
				Boss.attack(boss,'center',{'angle':boss.angle});			
			} else {
				Boss.attack(boss,'offcenter',{'angle':boss.angle+boss.opening});
				Boss.attack(boss,'offcenter',{'angle':boss.angle-boss.opening});			
			}	
			
		},
		transitionTest:function(boss){
			return boss.hpRatio < 0.50;
		}
	}
	boss.phase[1] = {	//big
		loop:function(boss){
			if(boss.frame % 10 !== 0) return;	
			Boss.attack(boss,'slowfire',{'angle':boss.angle});
		},
		transitionIn:function(boss){
			Boss.attack(boss,'360fire',{'angle':boss.angle});
			boss.noattack = 25;
			var act = getAct(boss.parent);
			Sprite.change(act,{'sizeMod':2});
			Actor.boost(act,[
				{'stat':'globalDef','type':"*",'value':10,'time':250,'name':'boss'},
			]); 
		},
		transitionOut:function(boss){
			var act = getAct(boss.parent);
			Sprite.change(act,{'sizeMod':0.75});
		},
		transitionTest:function(boss){
			return boss.frame % 250 === 0;
		}
	}
	boss.phase[2] = {	//small
		loop:function(boss){
			if(boss.frame % 25 !== 0) return;
			Boss.attack(boss,'weakfire',{'angle':boss.angle});
		},
		transitionTest:function(boss){
			return (boss.frame % 100 === 0) ? 1 : false;
		}
	}
	
	return boss;
}	

exports.quest = q;






