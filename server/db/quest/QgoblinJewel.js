var q = Quest.template('QgoblinJewel','v1.0');
eval(Quest.template.eval(q));

/*
### STEPS ###
talk ringo
get unf potion
get orc sock
get flower
make pot
transform
enter camp
kill 5 golbins
enter underground
open chest
leave underground
trigger boss
kill boss
leave camp
talk ringo
*/

/*
got		got[ITEMID]			=> received item
kill 	kill[ENEMY CATVAR]	=> have killed (both bool and count)
item 	item[ITEMID]		=> use item
cs 		cs[INFO]			=> cutscene
talk	talk[WHO ACTION]	=> talk done
*/


q.variable = {
	killGoblin:0,
	killGoblinBoss:0,
	csInBoss:false,
};

q.event = {
	hint:function(key){
		if(!get(key,'started')) return 'You can start this quest by talking to the guy south west of Goblin Land';
		return "Good luck!";
	},
	test:{
		login:function(key){
			teleport(key,'goblinLand','n1');
			respawn(key,'goblinLand','n1');
		}
	},	
	signIn:function(key){
	
	},
	start:function(key){
		
		
	},
	complete:function(key){
		set(key,'complete',true);
	},
	
	talkRingo:function(key){
		if(!get(key,'started')){ dialogue(key,'ringo','intro','first'); return; }
		if(haveItem(key,'jewel')){ 
			if(get(key,'killGoblinBoss'))dialogue(key,'ringo','intro','second-postJewel'); 
			else chat(key,'QUEST BUG, please send bug report. You can reset quest via the Quest Tab.');
			return; 
		}
		if(!haveItem(key,'potion')){  dialogue(key,'ringo','intro','second-prePotion'); return; }
		if(haveItem(key,'potion') && !haveItem(key,'jewel')){  dialogue(key,'ringo','intro','second-postPotion'); return; }
		
	},
	getPotionUnf:function(key){
		set(key,'started',true);
		addItem(key,'potion_unf');
	},
	getFlower:function(key){
		return testItem(key,'flower',1,true);
	},
	killOrc:function(key){
		if(Math.random()<0.50){
			addItem(key,'orc_sock');
			chat(key,"You managed to grab his socks!");
		}
	},
	itemPotionUnf:function(key){
		if(haveItem(key,{'potion_unf':1,'orc_sock':1,'flower':1},true)){
			addItem(key,'potion');
			chat(key,"You completed the potion by adding Orc socks and the Mystical flower.");		
		} else chat(key,"You don't have all the ingredients needed. (Orc socks and Mystical flower)");	
	},
	itemPotion:function(key){
		chat(key,"You should wait until I'm closer to the Goblin Camp before drinking it.");
	},	
	teleInCamp:function(key){
		if(haveItem(key,'potion')){
			chat(key,"You drank the potion and entered the camp."); 
			teleport(key,'goblinCamp@','t3');
			sprite(key,'orcMelee');
		}
		else chat(key,"You don't want the goblins to be even more mad against human.");
	},
	killGoblin:function(key){
		set(key,"killGoblin",get(key,"killGoblin") + 1);
	},
	teleInUnderground:function(key){
		if(get(key,'killGoblin') > 5){
			teleport(key,'goblinUnderground','t1');
			respawn(key,'goblinUnderground','t1');
		} else chat(key,"You should kill more goblins first to make them really angry with orcs.");
	},
	getJewel:function(key){
		return testItem(key,'jewel',1,true);
	},
	teleOutUnderground:function(key){
		if(haveItem(key,'jewel')) teleport(key,'goblinCamp@','t2');
		else chat(key,"You should get the jewel first.");
	},
	csTestBoss:function(key){
		if(get(key,'csInBoss') === false && haveItem(key,'jewel'))
			q.event.csInBoss(key);	
	},
	csInBoss:function(key){
		freeze(key);
		set(key,'csInBoss',true);
		dialogue(key,'goblin','intro','first');
	},
	csOutBoss:function(key){
		unfreeze(key);
		var boss = getEnemy(key,'boss');
		boss.combat = 1;
		boss.viewedIf = 'true';
	},
	teleOutCamp:function(key){
		if(!haveItem(key,'jewel')) chat(key,"You won't leave until you get that jewel or abandoning the quest.");
		else if(!get(key,'killGoblinBoss')) chat(key,"A magical force is preventing you from leaving the camp.");
		else teleport(key,'goblinLand','t3');
	},
	killGoblinBoss:function(key){
		set(key,'killGoblinBoss',true);
	},
	seeBlock:function(key){
		if(getAct(key).type !== 'player') return true;
		return get(key,'csInBoss');		
	},
};	

q.item['potion_unf'] = {'name':'Unfinished Potion','icon':'magic.staff','drop':0,'bank':0,'option':[		
	{'name':'Finish potion','description':'Requires 1 mystical flower and 1 orc socks.','param':[],'func':q.event.itemPotionUnf},
]};	

q.item['potion'] = {'name':'Potion','icon':'magic.staff','drop':0,'bank':0,'option':[		
	{'name':'Drink','description':'Transform into an orc.','param':[],'func':q.event.itemPotion},
]};	


q.item['orc_sock'] = {'name':'Orc Sock','icon':'magic.staff','drop':0,'bank':0,'option':[]};
q.item['flower'] = {'name':'Mystical Flower','icon':'magic.staff','drop':0,'bank':0,'option':[]};
q.item['jewel'] = {'name':'Jewel','icon':'magic.staff','drop':0,'bank':0,'option':[]};	




q.npc["boss"] = {  //{
	"name":"Goblin",
	"sprite":{'name':"goblin",'sizeMod':1.2},
	"mastery":{'def':{'melee':0.5,'range':0.5,'magic':0.5,'fire':2,'cold':2,'lightning':2},
				'dmg':{'melee':1,'range':1,'magic':1,'fire':1,'cold':1,'lightning':1}},	
	"acc":0.5,
	"maxSpd":10,
	"moveRange":{'ideal':250,"confort":25,"aggressive":500,"farthest":600},	
	"abilityList":[],
	"boss":Q+'-test',
	'target,maxAngleChance':10,
	'resource,hp,regen':0,
}; //}

q.dialogue['goblin'] = {'face':{'image':'bad-monster.0','name':'Ringo'},
	'intro':{
		'first':{
			'text':"Did you really think you could escape so easily? Prepare to die, orc!",
			'end':0,
			'option':[
				{'text':"Show me what you got, noob!",func:q.event.csOutBoss}
			],
		},
	}
}

q.dialogue['ringo'] = {'face':{'image':'villager-male.0','name':'Ringo'},
	'intro':{
		'first':{
			'text':"Hey! My name's Ringo! Guess what, I need your help! Wanna help me out real quick, man?",
			'option':[
				{'text':"Sure. Why not!",next:{node:'yes'}},
				{'text':"No",next:{node:'no'}},
			],
		},
		'no':{
			'text':"Ah, come on man. I need your help... I know you will change your mind someday. I'll be standing still until you do!",
		},	
		'yes':{
			'text':"There's a group of goblins north of here and they keep attacking my village. It's pissing me off.",
			'option':[
				{'text':"Why are they attacking the village?",next:{convo:'quest',node:'whyAttack'}},
				{'text':"What's your plan?",next:{convo:'quest',node:'plan'}},
			],
		},
		'second-prePotion':{
			'text':"Oh, you're back already!",
			'option':[
				{'text':"What am I supposed to do again?",next:{convo:'question',node:'pre-potion'}},
				{'text':"Where can I find orcs?",next:{convo:'question',node:'orc'}},
				{'text':"Where can I find a Mystical flower?",next:{convo:'question',node:'flower'}},
			],
		},
		'second-postPotion':{
			'text':"Oh, you're back already!",
			'option':[
				{'text':"What am I supposed to do again?",next:{convo:'question',node:'post-potion'}},
			],
		},
		'second-postJewel':{
			'text':"Oh my god! You did it! My plan worked! It's a miracle!",
			'option':[
				{'text':"Wait? You thought it wouldn't work?",next:{convo:'quest',node:'complete'}},
			],
		},
	},
	'quest':{
		'whyAttack':{
			'text':"Let just say that I 'borrowed' one of their precious jewels. And apparently, they didn't like it much... They get angry very easily, you know.",
			'option':[
				{'text':"Why don't you just give it back?",next:{node:'whyGiveBack'}},
				{'text':"What's your plan?",next:{node:'plan'}},
			],
		},
		'whyGiveBack':{
			'text':"Wait, what? What did I just say? Oh damn... I wanted to say that 'someone', which is obviously not me, 'borrowed' their jewel. But anyway, that's not the point, let's just change topic to something more important.",
			'option':[
				{'text':"Okay? So what's your plan?",next:{node:'plan'}},
			],
		},
		'plan':{
			'text':"I know for a fact that they own a second jewel. I didn't manage to steal it last time. Oh damn... I mean 'the thief' didn't manage to steal it last time.",
			'option':[
				{'text':"Continue",next:{node:'plan2'}},
			],
		},
		'plan2':{
			'text':"Anyway, I got a plan! A genius plan! My plan is so freaking smart that there's no way something could go wrong with it. Trust me, I'm an expert at this kind of stuff.",
			'option':[
				{'text':"Continue",next:{node:'plan3'}},
			],
		},
		'plan3':{
			'text':"You take the appearance of an orc then you steal by force the second jewel! That's so smart, right! The goblins will be soooo pissed off against orcs that they will attack them instead of us!",
			'option':[
				{'text':"That's a dumb plan...",next:{node:'planDumb'}},
				{'text':"That sounds like an AMAZING plan.",next:{node:'plan4'}},
				{'text':"That sounds like an AMAZING plan. Kappa",next:{node:'planKappa'}},
			],
		},
		'planDumb':{
			'text':"Just trust me, my plans work every time, 25% of the time.",
			'option':[
				{'text':"...",next:{node:'plan4'}},
			],
		},
		'planKappa':{
			'text':"You're not on Twitch, you fool.",
			'option':[
				{'text':"...",next:{node:'plan4'}},
			],
		},
		'plan4':{
			'text':"Glad you like my plan! How couldn't you like it anyway, right? So, in order to take the appearance of an orc, you will first need to put your hands on a piece of orc and and on the Mystical Flower.",
			'option':[
				{'text':"And then what do I do?",next:{node:'plan5'}},
			],
		},
		'plan5':{
			'text':"Here take this unfinished potion. Once you got the orc clothing and the Mystical Flower, complete the potion and use it.",
			func:q.event.getPotionUnf,
			'option':[
				{'text':"Where can I find orcs?",next:{convo:'question',node:'orc'}},
				{'text':"Where can I find the Mystical Flower?",next:{convo:'question',node:'flower'}},
			],
		},
		
		'complete':{
			'text':"Oh, my plans are always genius. Most of the time, it's the humans involved that cause problems... Anyway, thanks again for your help. Bye.",
			'option':[
				{'text':"Wait what? Where's my reward?",next:{node:'complete2'}},
			],
		},
		'complete2':{
			'text':"What reward? I never talked about a reward, did I? Just give me the jewel already...",
			'option':[
				{'text':"No reward, no jewel.",next:{node:'complete3'}},
			],
		},
		'complete3':{
			'text':"Okay... Fine... I will increase your maximum HP.",
			'option':[
				{'text':"Thanks.",func:q.event.complete},
			],
		},
	},
	'question':{
		'orc':{
			'text':"The orc village is located north east of here.",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
		'flower':{
			'text':"Mystical flowers are huge white flowers that can normally be found near lakes. I'm sure you will find one in this area.",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
		'pre-potion':{
			'text':"You need to complete the potion with a piece of orc and a Mystical flower.",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
		'post-potion':{
			'text':"I can see you have the potion now. Use it and go in the Goblin village. Find the jewel and bring it back to me!",
			'option':[
				{'text':"Okay, thanks."},
			],
		},
	},
};

//{Map
q.map.goblinUnderground = function(){
	var m = Init.db.map.baseMap();
	m.name = "GoblinUnderground";
	m.graphic = "goblinUnderground";
	m.lvl = 0;
	m.tileset = "v1.1";
	m.grid = ["00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000011111111111111111111000000000","00000111111111111111111111100000000","00001111111111111111111111110000000","00001111111111111111111111111000000","00001100000000001111100000111100000","00001100000001101111100110011100000","00001100110001101111100110001100000","00001100110000000000000000001100000","00001100000000000000000011001100000","00001101100000000000000011001100000","00001101100000000000000000001100000","00001100000000000000000000001100000","00001100000000000000000110001100000","00001100000000000000000110101100000","00001100000000000000000000101100000","00001100000000000000000000001100000","00000111100000000000011000001100000","00000011110000100000011000011000000","00000000011000100000000000110000000","00000000001100000000000001100000000","00000000001100000000000011000000000","00000000001100000000000110000000000","00000000000111111111111100000000000","00000000000011111111111000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000","00000000000000000000000000000000000"]
	var a = m.addon[Q] = {};
	a.spot = {"q1":{"x":592,"y":336},"g1":{"x":400,"y":496},"t1":{"x":560,"y":688}};
	a.path = {}
	a.variable = {}; 
	a.load = function(spot){
		actor(spot.t1,"teleport","zone",{
			angle:90,
			teleport:q.event.teleOutUnderground,
		});
		
		actor(spot.g1,"system","grave",{});
		
		actor(spot.q1,"system","chest",{
			loot:q.event.getJewel
		});
		
	
	} 
	return m;
};

q.map.goblinLand = function(){
	var m = Init.db.map.baseMap();
	m.name = "Goblin Land";
	m.tileset = "v1.1";
	m.lvl = 0;
	m.grid = ["000000000000000000001100000000000000000000000022222220000000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000000000000110000000000110000000000000000","000000000000000000001100000000000000000000000222222220000000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000000000000110000000000110000000000000000","000000000000000000001100000000000000000000000222222200000000000000000000000000000001110000000000000000000000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000000000001100000000000000000000000222222000000000000000000000000000000001110000000000000001111000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000011110001100000000000000000000000222222000000000000000000000000000000001110000000000000001111000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000011110001100000000111100000000000222222000000000000000000000000000000001110000000000000001111000000000000001111111111111100000000000000000000000000000110000000000110000000000000000","000000000000011110001100000000111100000000000222222000000000000000000000111100000001110000000000000000000000000000000000000000000000000000000000000011110000000001110000000000111000000000000000","000000000000000000001100000000111100022222222222222220000000000000000000111100000001110011110000000000000000000000000000000000000000000000000000000011110000000011110000000000111100000000000000","000111100000000000001100000000000000222222222222222222000000000000000000111100000001110011110000000000000000000000000001111111111111100000000000000011110000011111100000000000011111111100000000","000111100000000000001100000000000002222222222222222222200000000000000000000000000001110011110000000000000000000000000000122222222221000000000000000000000000111111000000000000001111111110111100","000111100000000000001100000000000022222222222222222222200000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000001111111111000000000000111111111111100","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001111101111000000000000011111111111100","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001100001111000000000000000000011000000","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001100000000000000000000001111011000000","000000000000000000001100000000000222222222222222222222200000000000000000111100000001110000000000000000000000000000000000122222222221000000000000000110000001100000000000000000000001111011000000","000000000000000000001100000000002222222222222222222222200000000000000000111100000001110000000000000000000000000000000000122222222221000000000000000110000001100000000000000000000001111011000000","000000000000000000001100011110002222222222222222222222200000000000000000111100000001110000000000000000000000000111100000122222222221000000000000000000000001100000000000000000000000000011000000","000000000000000000001100011110002222222222222222222222200000000000000000000000000011110000000000000000000000000111100000122222222221011110000000000000000001100000000000000000000000000011000000","000000000000000000001100011110002222222222222222222222201111000000000000000000000111110000000000000000000000000111100000122222222221011110000000000000000001100000000000000000000000000011000000","000000000000000000001100000000002222222222222222222222201111000000000000000000001111100000000000000000000000000000000000122222222221011110000000000000000001100000000000000000000000000011000000","000000000001111000001100000000002222222222222222222222201111000000100010000000011111000000000000000000000000000000000000122222222221000000000000000000000001100000000000000000000000000011000000","000000000001111000001100000000002222222222222222222222200000000011100011111111111111111000000000011000000000000000000000122222222221100000000000000000111101100000000000000000000000000011000000","011110000001111000001100000000002222222222222222222222000000000111100011111111111101111000000000100100000000000000000000122222222222110000000000000000111101100000000000000000000000000011000000","011110000000000000001100000000002222222222222222222222000000001111100011111111111001111000000001111110000000000000000000122222222222211000000000000000111101100000000000000000000000000011000000","011110000000000000001100000001111222222222222222222222000000011111100011111111110000011111111001111110000000000000000000122222222222221000000000000000000001100001111100000000000000000011000000","000000000000000000001100000001111022222222222222222222000000011111100011111111100000011111111001111110000001100000000000122222222222221000000000000000000001100010000010000000000000000011000000","000000000000000000001100000001111002222222222222222220000000011100000000000000000000011111111001000010000001100000000000012222222222221000000000000000000001100100000001000000000000000011000000","000000000000000000001100000000000000002222222222200001111000011100000000000000000000000000011111000010000000000000000000001222222222221000000000000000000001100100000001000000000000000011000000","000000000000000000001100000000000000000222222222000001111000011100000000000000000000000000011111000010000000000000000000000122222222221000000000000000000001100110000011000000000000000011000000","000000000000111100001110000000000000000222222222000001111000011100000000000000000000000000011111011010000000000000000000000122222222221000000000000000000001100011000110000000000000000011000000","001110000000111100001111000000000000000111111111000000000000111100000000000000000000000000000001011010111100000000000000000122222222221000011110000000000001100001111100000000000000000011000000","011111000000111100001111111111000000000111111111000000000001111100000000000000000000111100000001000010111100000000000000000122222222221000011110000000000001100000111000000000000000000011000000","110001100000000000000111111111100000000111111111000000000011111000000000000000000000111100000001000010111100000000000000000122222222221000011110000000000001111110000000000000000000000011000000","100000110000000000000011111111110000000000000000000000000111110000000000000000000000111100000001000010000000000000000011110122222222221000000000000000000001111110000000000000000000000011000000","110001110000000000000001111111111000000000000000000000001111100000000000000000000000000000000001000001111111110000000011110122222222221000000000000000000001111110000000000000000000000011000000","111011110000000000000000111111111111111111111111111111111111000000000000000000000000000000000001000000000000001000000011110122222222221000000000000000000001111110000000000000000000000011000000","111111100000000000000000000000111111111111111111111111111110000000000000000000000000000000000001100000000001101000000000000122222222221000000000000000000001111110000000000000000000000011000000","011111000000000000000000000000011111111111111111111111111100000000000000000000000000000000000001111111111101101000000000000122222222221000000000000000000001111110000000000000000000000011000000","001110000000000000000000000000001111111111111111111111111000000000000000000000000000000000000000111111111110001000000000000122222222221000000000000000000001100000000000000000000000000011000000","000100000000011110000000000000000111111111111111111111110000000000000000000000000000000000000000000000000010001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000000000000011110000001111111111111111111111111111111111111111111111111111100000000000000000000000000111110001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000000000000011110000011111111111111111111111111111111111111111111111111111110000000000000000000000000111110001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000111100000000000000111111111111111111111111111111111111111111111111111111111000000000000000000000000111110001000000000000122222222221000110000000000000001100000000000000000000000000011000000","000111100000000000000111111111111111111111111111111111111111111111111111111111000000000000000000000000000011011000000000000122222222221000110000000011110001100000000000000000000000000011000000","000111100000000000000110000000000000000000000000000000000000000000000000000011000000000000000110000000000011111000000110000122222222221000000000000011110001100000001100000000000000000011000000","000000000000000000000110000000000000000000000000000000000000000000000000000011000000000000000110000000000001110000000110000122222222221000000000000011110001100000001100000000000000000011000000","000000000000000000000110000000000000000000000000000000000000000000000000000011001100000000000000000000000000000000000000000122222222221000000000000000000001100000000000000000000000000011000000","000000000110000000000110000100000000000000000000000000000000000000000000000011001100000000000000000000000000000000000000000122222222221000000000000000000001100000000000000000000000111111000000","000000000110000000000110000100000000000000001110000000000000011000000110000011000000000000000000000000000000000000000000000111111111111000000000000000000001100000000000000000000001000001000000","000000000000000000000110000000000000000000001110000000000000011011110110000011000000000000000000000000000000000000000000000111111111111000000000000000000001100000000000000000000010000001000000","000000000000000000001110000000000000000000001110000000000000000011110000000011000000000000000000000000000000000000000000000111111111111000000000000000000011100000000000000000000010000001000000","000000000000000000011110000000000000000000000000000000000000000011110000000011000000000000000000000000000000000000000000001112222222211100001000001000000111100000000000000000000011000001000000","000000000011111111111100000000000000000000000000000000000000000000110000000011000000000000000000000000000000000000000001111112222222211111111000001111111111000000000000000000000001100001000000","000000000111111111111000000000000000000000000000000000000000000000110000000011000000000000000000011110000000000000000011111122222222221111111000001111111110000000000000000000000000111111000000","000000001111111111110000000000000000000000000000000000000000000000000000000011000000000000000000011110000000000000000111111222222222222111111000001111111100000000000000000000000000011111000000","110000001111111111100000000000000000000000000000000000000000000000000000000011000000000000000000011110000000000000001111110222222222222211111000001111111011110000000000000000000000000011000000","110000001100011111100000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000011110000222222222222200000000000000000011110000000000000000000000000011001100","000000001100011111100000000000000000000001111111000000000000000000000000000011000000000000000000000000000000000000111100000222222222222200000000000000000011110000000000000000000011110011001100","000000001101111000000000000000000000000010000000100000000000000000000000000011000000000000000000000000000000000001111011110222222222222200000000000011110000000000000000000000000011110011000000","000000001101111000000000000000000010000010011110100000000000000000000000000011000000000111100000000000000000000011110011112222222222222200000000000011110000000000000000000000000011110011000000","000000001101111111100000000110000010000010011110100000000000000000000000000011000000000111100000000000000000000011100011112222222222222200000000000011110000000000000000000000000000000011000000","000000001101111111100000000110000000000010011110100000000000000000000000000011000000000111100000000011000000000011000000002222222222222200000000000000000000000000000000000110000000000011000000","000000001100000111100000000000000000000010000000100000000000000100000110000011000000000000000000000011000000000011000000002222222222222200000000000000000000000000000000000110000000000011000000","000000001100000111100000000000000000000011000001100000000000000100000110000011000000000000000000000000000000000011000000002222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000011111111100000000000000000000000000011000000000000000000000000000000000011000000022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000001111111000000000000000000000000000011000000000000000000000000000000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000000000000000000000000000000000000000011000011000000000000000000000000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000000000000000000000000000000000000000011000011000000000000000011111000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100000000000000000000000000000000000000001000000000000000000000000011000000000000000000000111111100000011000000022222222222222000000000000000000000000000000000000000000000000011000000","000000001100000111100000000000000000000000000000001000000000000000000000000011000000000000000000001100000110000011000000022222222222222000000000000000000000000111100000000111111111111110000000","000000001101100111100000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222222000000000000000000000000111100000001111111111111100000000","000000001101100111100000000000000000000011110000000000000000000000000000000011000000000000000000011000110011000011000000222222222222220000000000000000000000000111100000011000000000000000000000","000000001100000111100000000000000000000011110000000000000000000000000000000011000000000000000000011000110011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100000000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100110000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100110000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110001111000000000000000","000000001100000000110000010000000000000000000000000000000000000000000000000011000000001111111111110000000011000011000000222222222222220000000000111100000000000000000000110001111000000000000000","000000000110000000110000010000000000000000000000000000000000000000000000000011000000011111111111100001100011000011000000222222222222200000000000111100000000000000000000110001111000000000000000","000000000011000000000000000000000000000000000000000000000000000000000000111011000000110011000000000001100011000011000002222222222222200000000000111100000000000000000000110000000000000111100000","000000000001100000000000000000000000000000000000000000000000000000000000111011000001100011000000000000000011000011000002222222222222200000000000000000000000000110000000110000000000000111100000","000000000000110000000000000000000000000000000000011000000000000000000000111011000001100000000110000000000011000011000002222222222222200000000000000000000000000110000000110000000000000111100000","000000000000011000000000000000000000000000010000011000000000000000000000111011000001100000000110000110000011000011000002222222222222200000000000000000000000000000000000110000000000000000000000","000000000000001100000000000000000000000000010000000000000000000000000000111011000001100000000000000110000011000011000002222222222222200000000000000000000000000000000000111000000000000000000000","000000000000000110000000000000000000000000000000000000000000000000000000111011000001110000000000000000000111000011000022222222222222200000000000000000000000000000000000111100000000000000000000","001111000000000011000000000000000000000000000000000000000000000000000000000011000001111000000000000000001111000011000022222222222222200000000000000000000000000000000000011111111111111111100000","001111000000000001100000000000000000000000000000000000000000000000000000000011000000111111111111111111111110000011000022222222222222200000000000000001100000000000000000001111111111111111110000","001111000000000000111111111111111111111111111111111110000000000000000111111110000000011111111111111111111100000011000022222222222222200000000000000001100000000000000000000111111111111111111000","000000000000000000011111111111111111111111111111111111000000000000001111111100011110001111111111111111111000000011000222222222222222200000000000000000000000000000000000000011111111111111111000","000000000000000000000000000000000000000111111111111001100000000000011000000000011110000111111111111111110000110011000222222222222222200000000000000000000000001111000000000000000000000000011000","000000000000000000000000000000000000001000000000000100111110000011110000000000011110000000000000000000000000110011000222222222222222200000000000000000000000001111000000000000000000001111011000","000000000000000011110000000000000000001100000000001100111111000111110000000000000000000000000000000000000000000011000222222222222222200000000000000000000000001111000000000000000000001111011000","000000000000000011110000000001100000001111111111111100111111000111111000000000000000000000000000000000000000000111002222222222222222200000000000000000000000000000000000000000000000001111011000","000000000000000011110000000001100000000111111111111000110000000000111100000000000000000000000000000000000000001111002222222222222222200000000000000000000000000000000000000000000000000000011000","000001111000000000000000000000000000000000000000000001110000000000011111111111111111111111111111111111111111111110002222222222222222200000000000000000000000000000000000000000000000000000011000","000001111000000000000000000000000000000000000000000011110000000000001111111111111111111111111111111111111111111100002222222222222222200000000000000000000000000000011110000000000000000000011000","000001111000011000000000000011111111111111111111111111100000000000000111111111111111111111111111111111111111111000002222222222222222200000000000000000000000000000011110000000000000000000011000","000000000000011000000000000111111111111111111111111111000000000001111011111111111111111111111111111111111111110000002222222222222222200011000000000000000000000000011110000000000000000000011000","000000000000000000000000001111111111111111111111111110000000000001111000000000000000000000000000000000000000000000002222222222222222200011000000000000000000000000000000000000000000001111011000","011000000000000000000000011111111111111111111111111100000000000001111000000000000000000000000000000000000000000000002222222222222222200000000000000000000000000000000000000000000000001111011000","011000000000000000000000011111111111111111110000000000000000000000000000000000000000000000000000000000000000000000002222222222222222220000000000000000000000000000000000000000000000001111011011","000000000000000001111000011011111111111111110000000000000000000000000000000000000001111111111111111000000000000000002222222222222222220000000000000000000000000000000000000000000000000000011011","000000000000000001111000011011110111111111110000000011110000000000000000000000000010000000000011100100000000000000002222222222222222220000000000000000000000000000000000000000000000000000011000","000000000000000001111000111111111111111111111100000011110000000000000000011000000100011110000011100010000000000000002222222222222222222000000000000000000000000000000000000000000000000000011000","000000001111000000000001111111111111111111111100000011110000000000000000011000000100011110000011100010000000000000002222222222222222222000000000000000000000000000000000000000000000000000011000","000000001111000000000011111111111111111111111100000000000000000000000000000000000100011110000011100010001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000001111000000000111111111111111111111110000000000000000000000000000000000000110011110000000000110001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000000000000000001111111111111111111111110000000000000000000000000000000000000011000000000000001100001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000000000000000011110111111111111111111110000000000000000000000000000000000000001111111111111111000000000000000022222222222222222222220000000000111100000000000000000000000000000000000011000","000000000000000000111111111111111100000000000000000000000000000000000000000000000000111111111111110000000000000000022222222222222222222220000000000111100000000000000000000000000000000000011000","000000000000000000111011111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000000111100000000000000000000000000000000000011000","000000000000000000110011111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000000000000000000000000000000000001111000000011000","000000000000000000111111111111110000000000000000000000000000000000000000000000000000000000000000000000001111000000022222222222222222222222200000000000000000000000000000000000001111000000011000","110000000000000000111111111111110000000000000000110000000000000000000000000000000000000000000000000000001111000000002222222222222222222222200000000000000000000000000000000000001111000000011000","110000000000000000111111111111110000000000000000110000000000000000000000000000000000000000011000000000001111000000002222222222222222222222200000000000000000000000000000000000000000000000011000","110000000000000000110011111111000000000000000000000000000000000000000000000000000000000000011000000000001111000000002222222222222222222222220000000000000000000000000000000000000000000000011000","000000000000000001110011111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222220000000000000000000000000000000000000000011111110000","000000000000000011110011111111000000000011100000000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222222000000000000000000000000000000000000000111111100000","000001111111111111100000111100000000000011100000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000011110000000000000000000000000001100000000000","000011111111111111000000111100000000000011100000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222200000011110000000000000000000000000011001110000000","000111111111111110000000111100000000000011100000000000000000111100000000000000000000000000000000000000000000000000000002222222222222222222222200000011110000000000000000000000000011001110000000","000111111111111100000000000000000000000000000000011110000000111100000000000000000000000000000000000000000000000000000002222222222222222222222200000000000000000000000000000000000011001110000000","000110000000000000000000000000000000000000000000011110000000111100000001111000000000000000000000000000000000000000000000222222222222222222222220000000000000000111100000000000000011001110000000","000111111111100000000000000000000000000000000000011110000000000000000001111000000000000000000000000000000000000000000000222222222222222222222220000000000000000111100000000000000011000000000000","000111111111100000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000022222222222222222222222000000000000000111100000000000000011000000111100","000111111111100000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000011000000111100","000111111000000000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000022222222222222222222200000000000000000000000000000000011100000111100","000111111000000000000000000000000000000000000000000000000000000000000111111110000000000000000000111100000000000000000000000022222222222222222222200000000000000000000000000000000011110000000000","000111111000000000111100000000000000000000000000000000000000000000000000011110000000000000000000111100000000000000000000000002222222222222222222220000000000000000000000000000000001111110000000","000110000000000000111100000000000000000000000000000000000000000000000000011110000000000000000000111100000000000000000000000002222222222222222222220000000000000000000000000000000000111111000000","000110000000000000111100000000000000000000000000000001111000000000000000011110000000000000000000000000000000000000000000000000222222222222222222220000000000000000000000000000000000011111100000","000110000000000000000000000000000000011110000000000001111000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000001111100000","000110000000000000000000000000000000011110000000000001111000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000000001100000","000110000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000111100022222222222222222222200000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111100000000000000000111100022222222222222222222200000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111110000000000000000111100022222222222222222222220000000000000000000000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000011000000000011000000000000000000000002222222222222222222222200000000000000000000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222222000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222222000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000111000000000000000000110000011110001100000000000000000000002222222222222222222222222200000000000000000000000000000001100000","000110011110000000000000000000000000000000000000000000000001111000000111000000011111111111100000011110001100000000000000000000002222222222222222222222222200000000000000000000000000000001100000","000110011110000000000000000000000000000000000000000000000001111000000111000000111111111111000000011110001100000000000000000000002222222222222222222222222220000000000000000000000011110001100000","000110011110000000000000000000000000000000000000000000000001111000000111000001100000000000000000000000001100011000000000000000002222222222222222222222222220000000000000000000000011110001100000","000110000000000000000000000000000000000000000000000000000001111000000000000011000000000000000000000000001100011000000000011110000222222222222222222222222222000000000000000000000011110001100000","000110000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000001100000000000000011110000222222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000110000000000000000000000000000000011000011110000000000000000001100000000000000011110000022222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000110000000111111111111111111111111110000011110000000000000000001100000000000000000000000022222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000000000001111111111111111111111111100000011110000000000000000001100000000000000000000000002222222222222222222222222200000000000000000000000000001100000","000110000000000000000000000000000000000000000000011000000000000000000000000000000000000000000001111000001100000000000000000000000002222222222222222222222222200000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000001111000000111111000000000000000000000222222222222222222222222220000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000001111000000011111100000000000000000000000222222222222222222222220000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000000000000000000000110000000000000000000000222222222222222222222220000000000000000000000011101100000","000110000000000000000000000000000000000000000000110000011110001111000000000000000000000000000000000000001111000011000000000000000000000222222222222222222222222000000000000000000000011101100000","000110000000000000000000000000000000000111100000110000000000001111000000000001111000000001111000000000001111000011000000000000000000000022222222222222222222222000000000000000000000011101100000","000110000000000000000000000000000000000111100000110000000000001111000000000001111000000001111000000000001111000011000000000000000000000011111111111111111111111111100000000000000000011101100000","000110000000000000000000000011100000000111100000110000000000000000000000000001111000000001111000000000001111000111000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000111000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000111100001111000000000000000000000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000011110001111111100000011110000000000000000000000000000111111111100000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000001111001111111100000011110000000000000000000000000001111111111000000000000000000000000000000000000000000000000000000000000000111100000001100000","000110000000000000000000000000000000000000000000000111100000111100000011110000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000111100000001100000","000110000000000011110000000000000000000000000000000011110000000000000000000000000000000000000000000111100000000000000000000000000000000011111111111111111111111111100000000000111100000001100000","000110000000000011110000000000000000000000000000000001111111111111111111111111000000001111000000001111000000000000000000000000000000000000222222222222222222222222200000000000000000000001100000","000110000000000011110000000000000000000000000000000000111111111111111111111111100000001111000001111110000000000000000000000000000000000000222222222222222222222222200000000000000000000001100000","000110000000000000000000000000000000000000000000000000011111111111111111111111110000001111000011111100000000000001111000000000000000000000022222222222222222222222200000000000000000000001100000","000110011110000000000000000000000000000001111000000000001111111111111111111111111000000000000111111000000000000001111000000000000000000000022222222222222222222222220000001111111111111111000000","000110011110000000000000000000000000000001111000000000000000000000000000000000111100000000000111110000000000000001111000000000000000000000002222222222222222222222220000011111111111111110000000","000110011110000000000000000000000000000001111000000000000000000000000000011110011110000000000110000000011110000000000000000000000000000000002222222222222222222222220000110000000000000000000000","000110000000000000000000000000000000000000000000000000000000000000000000011110001111000000000110000000011110000000000000000000000000000000002222222222222222222222222001100000000000000000110000","000110000000000000000000000000000000000000000000000000000000000000000000011111111111100000001110000000011110000000000000000000000000111100002222222222222222222222222201100000000000000000110000","000110000000000000000000000000000000000000000000000000000000000000000000000001111011110000011110000000000000000000000000000000000000111100000222222222222222222222222221100000011110000000000000","000110000000000000000000000000000000000000000000000000000000000000000000000001111001111000111101111000000000111100001100000000000000111100000222222222222222222222222221100000011110000000000000","000110000000000000000000000000110000000000000000000000000000000000000000000000000000111111111000011000000000111100001100000000000000000000000222222222222222222222222221100000011110000000000000","000110000000000000000000000000110000000000000000000000000000000000000000000000000000011111110000011000000000111100000000000000000000000000000222222222222222222222222221100000000000000000000000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111110000000111100000000000000000000000000000222222222222222222222222221100000000000000000000000","000011111111111111111111111111000000000000000000000000000000000000000000000000000000000111111111111110000000000000000000000000000000000000000222222222222222222222222221100000000000000000000000","000001111111111111111111111111100000000000000000000000000000000000000000000000000000000001111111111110000000000000000000000000000000000000000222222222222222222222222221110000000000000000000000","000000000000000000000000000000110000000000000000000000000000000000000000000000000000000111111111111111100000000000000000000000000000000000000222222222222222222222222221111000000000000001111000","000000000000000000000000000000011000000000000000000000000000000000000000000000000000000111111111111111100000000000000111100000000000000000110022222222222222222222222222111100000001100001111000","000000000000001111000000000000011000011100000000000000000000000000000000000000000000000111111111111111100000000000000111100000000000000000110022222222222222222222222222211110000001100001111000","000000000000001111000001111000011000011100000000000000000000001111000000000000000000000001111111111111111000000000000111100000000000000000000002222222222222222222222222221111000000000000000000","000000111100001111000001111000011000011100000000000000000000001111000000000000000000000001111111101111111000000000000000000000000000000000000002222222222222222222222222222111100000000000000000","000000111100000000000001111000011000011100000000000000000000001111000000000000000000000001111111101111111000011000000000000000000000000000000002222222222222222222222222222211110000000000000000","000000111100000000000000000000011000000000000000000000000000000000000000000000000000000000011111111111111110011000000000000000000000000000000000222222222222222222222222222221111000000000000000","000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000011110111111111110000000000000000000000000000000000000222222222222222222222222222222111000000000000000","000000000000111100000000000000001111111111111111111111111111000000000000000000000000000000011110111111111110000000000000000000000000000000000000022222222222222222222222222222211000000000000000","000000000000111100000000000000000111111111111111111111111111100000000000000000000000000001111111111111111000000000000000000000000000000000000000022222222222222222222222222222211000000000000000","000000000000111100000000000000000000000000000000000000000000110000000000000000000000000001111111111111111000000000000000000000000000000000000000002222222222222222222222222222211000000000000000","000000000000000000000000000000000000000000000000000000000000011000000000000000000000000001111111111111111001100000000000000000000000000000000000000222222222222222222222222222211000000000110000","000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000011111111111111111111000000000000000000000000000000000000222222222222222222222222222211000000000110000"]
	
	var a = m.addon[Q] = {};
	a.spot = {"s1":{"x":816,"y":240},"ed":{"x":3248,"y":368},"q1":{"x":2192,"y":560},"ek":{"x":5424,"y":560},"ec":{"x":4592,"y":1200},"ef":{"x":2640,"y":1232},"e1":{"x":5552,"y":1264},"t2":{"x":1456,"y":1584},"eh":{"x":1616,"y":1680},"ee":{"x":3408,"y":1744},"b2":[1568,2400,1920,1920],"b3":[1472,1472,2112,2720],"ei":{"x":912,"y":2224},"g2":{"x":3728,"y":2320},"eg":{"x":1808,"y":2352},"q2":[1600,2400,2432,2720],"ej":{"x":1968,"y":2576},"b1":[1792,2080,2848,2848],"t3":{"x":1968,"y":2928},"b4":[1792,2080,2976,2976],"eb":{"x":4944,"y":2992},"e6":{"x":2768,"y":3888},"ea":{"x":5296,"y":4080},"s3":{"x":4912,"y":4144},"e5":{"x":1616,"y":4240},"e4":{"x":656,"y":4528},"e7":{"x":3696,"y":4624},"e8":{"x":5456,"y":4912},"e3":{"x":1104,"y":5264},"g1":{"x":1744,"y":5488},"n1":{"x":2096,"y":5520},"s2":{"x":4304,"y":6000},"t1":{"x":2576,"y":6096}}
	a.path = {};
	
	a.load = function(spot){
		//Grave
		
		actor(spot.n1,"npc","ringo",{
			angle:90,
			nevermove:1,
			dialogue:q.event.talkRingo,
		});
		
		
		actor(spot.q1,"system","chest",{	//TOFIX LOOK
			angle:90,
			nevermove:1,
			loot:q.event.getFlower,
		});
		
		actorGroup(spot.e1,25*15,[
			["orc","melee",2,{deathFunc:q.event.killOrc}],
			["orc","range",1,{deathFunc:q.event.killOrc}],
		]);	
		actorGroup(spot.ek,25*15,[
			["orc","magic",3,{deathFunc:q.event.killOrc}],
		]);	
		
		
		actorGroup(spot.ed,25*15,[
			["orc","melee",12,{deathFunc:q.event.killOrc}],
			["orc","range",11,{deathFunc:q.event.killOrc}],
		]);	
		actorGroup(spot.s1,25*15,[
			["orc","magic",13,{deathFunc:q.event.killOrc}],
		]);	
		
		actorGroup(spot.q1,25*15,[
			["orc","magic",10,{deathFunc:q.event.killOrc}],
		]);	
		
		
		block(spot.b1,{},'invisible');
		
		actor(spot.t3,"teleport","zone",{
			angle:270,
			teleport:q.event.teleInCamp,
		});
		
		
		//TEST
		actorGroup(spot.n1,25*15,[
			["orc","melee",1,{abilityList:[]}],
		]);	
		//
		
		/*
		actor(spot.g1,"system","grave",{});
		//actor(spot.M,"system","grave",{});
		

		actorGroup(spot.e3,25*15,[
			["mushroom","normal",2],
			["plant","normal",2],
		]);		
		
		actorGroup(spot.e4,25*15,[
			["bee","normal",4],
		]);	
		
		actorGroup(spot.e5,25*15,[
			["bee","normal",2],
			["mosquito","normal",2],
		]);	
		
		block(spot.b2);
		block(spot.b3);
		*/
		
		
	}
	
	a.loop = function(spot){
	
	}
	
	return m;
};

q.map.goblinCamp = function(){
	var m = Init.db.map.baseMap();
	m.name = "Goblin Land";
	m.tileset = "v1.1";
	m.lvl = 0;
	m.graphic = 'goblinLand';
	m.grid = ["000000000000000000001100000000000000000000000022222220000000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000000000000110000000000110000000000000000","000000000000000000001100000000000000000000000222222220000000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000000000000110000000000110000000000000000","000000000000000000001100000000000000000000000222222200000000000000000000000000000001110000000000000000000000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000000000001100000000000000000000000222222000000000000000000000000000000001110000000000000001111000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000011110001100000000000000000000000222222000000000000000000000000000000001110000000000000001111000000000000000122222222221000111100000000000000000000000110000000000110111100000000000","000000000000011110001100000000111100000000000222222000000000000000000000000000000001110000000000000001111000000000000001111111111111100000000000000000000000000000110000000000110000000000000000","000000000000011110001100000000111100000000000222222000000000000000000000111100000001110000000000000000000000000000000000000000000000000000000000000011110000000001110000000000111000000000000000","000000000000000000001100000000111100022222222222222220000000000000000000111100000001110011110000000000000000000000000000000000000000000000000000000011110000000011110000000000111100000000000000","000111100000000000001100000000000000222222222222222222000000000000000000111100000001110011110000000000000000000000000001111111111111100000000000000011110000011111100000000000011111111100000000","000111100000000000001100000000000002222222222222222222200000000000000000000000000001110011110000000000000000000000000000122222222221000000000000000000000000111111000000000000001111111110111100","000111100000000000001100000000000022222222222222222222200000000000000000000000000001110000000000000000000000000000000000122222222221000000000000000000000001111111111000000000000111111111111100","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001111101111000000000000011111111111100","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001100001111000000000000000000011000000","000000000000000000001100000000000022222222222222222222200000000111100000000000000001110000000000000000000000000000000000122222222221000000000000000000000001100000000000000000000001111011000000","000000000000000000001100000000000222222222222222222222200000000000000000111100000001110000000000000000000000000000000000122222222221000000000000000110000001100000000000000000000001111011000000","000000000000000000001100000000002222222222222222222222200000000000000000111100000001110000000000000000000000000000000000122222222221000000000000000110000001100000000000000000000001111011000000","000000000000000000001100011110002222222222222222222222200000000000000000111100000001110000000000000000000000000111100000122222222221000000000000000000000001100000000000000000000000000011000000","000000000000000000001100011110002222222222222222222222200000000000000000000000000011110000000000000000000000000111100000122222222221011110000000000000000001100000000000000000000000000011000000","000000000000000000001100011110002222222222222222222222201111000000000000000000000111110000000000000000000000000111100000122222222221011110000000000000000001100000000000000000000000000011000000","000000000000000000001100000000002222222222222222222222201111000000000000000000001111100000000000000000000000000000000000122222222221011110000000000000000001100000000000000000000000000011000000","000000000001111000001100000000002222222222222222222222201111000000100010000000011111000000000000000000000000000000000000122222222221000000000000000000000001100000000000000000000000000011000000","000000000001111000001100000000002222222222222222222222200000000011100011111111111111111000000000011000000000000000000000122222222221100000000000000000111101100000000000000000000000000011000000","011110000001111000001100000000002222222222222222222222000000000111100011111111111101111000000000100100000000000000000000122222222222110000000000000000111101100000000000000000000000000011000000","011110000000000000001100000000002222222222222222222222000000001111100011111111111001111000000001111110000000000000000000122222222222211000000000000000111101100000000000000000000000000011000000","011110000000000000001100000001111222222222222222222222000000011111100011111111110000011111111001111110000000000000000000122222222222221000000000000000000001100001111100000000000000000011000000","000000000000000000001100000001111022222222222222222222000000011111100011111111100000011111111001111110000001100000000000122222222222221000000000000000000001100010000010000000000000000011000000","000000000000000000001100000001111002222222222222222220000000011100000000000000000000011111111001000010000001100000000000012222222222221000000000000000000001100100000001000000000000000011000000","000000000000000000001100000000000000002222222222200001111000011100000000000000000000000000011111000010000000000000000000001222222222221000000000000000000001100100000001000000000000000011000000","000000000000000000001100000000000000000222222222000001111000011100000000000000000000000000011111000010000000000000000000000122222222221000000000000000000001100110000011000000000000000011000000","000000000000111100001110000000000000000222222222000001111000011100000000000000000000000000011111011010000000000000000000000122222222221000000000000000000001100011000110000000000000000011000000","001110000000111100001111000000000000000111111111000000000000111100000000000000000000000000000001011010111100000000000000000122222222221000011110000000000001100001111100000000000000000011000000","011111000000111100001111111111000000000111111111000000000001111100000000000000000000111100000001000010111100000000000000000122222222221000011110000000000001100000111000000000000000000011000000","110001100000000000000111111111100000000111111111000000000011111000000000000000000000111100000001000010111100000000000000000122222222221000011110000000000001111110000000000000000000000011000000","100000110000000000000011111111110000000000000000000000000111110000000000000000000000111100000001000010000000000000000011110122222222221000000000000000000001111110000000000000000000000011000000","110001110000000000000001111111111000000000000000000000001111100000000000000000000000000000000001000001111111110000000011110122222222221000000000000000000001111110000000000000000000000011000000","111011110000000000000000111111111111111111111111111111111111000000000000000000000000000000000001000000000000001000000011110122222222221000000000000000000001111110000000000000000000000011000000","111111100000000000000000000000111111111111111111111111111110000000000000000000000000000000000001100000000001101000000000000122222222221000000000000000000001111110000000000000000000000011000000","011111000000000000000000000000011111111111111111111111111100000000000000000000000000000000000001111111111101101000000000000122222222221000000000000000000001111110000000000000000000000011000000","001110000000000000000000000000001111111111111111111111111000000000000000000000000000000000000000111111111110001000000000000122222222221000000000000000000001100000000000000000000000000011000000","000100000000011110000000000000000111111111111111111111110000000000000000000000000000000000000000000000000010001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000000000000011110000001111111111111111111111111111111111111111111111111111100000000000000000000000000111110001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000000000000011110000011111111111111111111111111111111111111111111111111111110000000000000000000000000111110001000000000000122222222221000000000000000000001100000000000000000000000000011001111","000111100000000000000111111111111111111111111111111111111111111111111111111111000000000000000000000000111110001000000000000122222222221000110000000000000001100000000000000000000000000011000000","000111100000000000000111111111111111111111111111111111111111111111111111111111000000000000000000000000000011011000000000000122222222221000110000000011110001100000000000000000000000000011000000","000111100000000000000110000000000000000000000000000000000000000000000000000011000000000000000110000000000011111000000110000122222222221000000000000011110001100000001100000000000000000011000000","000000000000000000000110000000000000000000000000000000000000000000000000000011000000000000000110000000000001110000000110000122222222221000000000000011110001100000001100000000000000000011000000","000000000000000000000110000000000000000000000000000000000000000000000000000011001100000000000000000000000000000000000000000122222222221000000000000000000001100000000000000000000000000011000000","000000000110000000000110000100000000000000000000000000000000000000000000000011001100000000000000000000000000000000000000000122222222221000000000000000000001100000000000000000000000111111000000","000000000110000000000110000100000000000000001110000000000000011000000110000011000000000000000000000000000000000000000000000111111111111000000000000000000001100000000000000000000001000001000000","000000000000000000000110000000000000000000001110000000000000011011110110000011000000000000000000000000000000000000000000000111111111111000000000000000000001100000000000000000000010000001000000","000000000000000000001110000000000000000000001110000000000000000011110000000011000000000000000000000000000000000000000000000111111111111000000000000000000011100000000000000000000010000001000000","000000000000000000011110000000000000000000000000000000000000000011110000000011000000000000000000000000000000000000000000001112222222211100001000001000000111100000000000000000000011000001000000","000000000011111111111100000000000000000000000000000000000000000000110000000011000000000000000000000000000000000000000001111112222222211111111000001111111111000000000000000000000001100001000000","000000000111111111111000000000000000000000000000000000000000000000110000000011000000000000000000011110000000000000000011111122222222221111111000001111111110000000000000000000000000111111000000","000000001111111111110000000000000000000000000000000000000000000000000000000011000000000000000000011110000000000000000111111222222222222111111000001111111100000000000000000000000000011111000000","110000001111111111100000000000000000000000000000000000000000000000000000000011000000000000000000011110000000000000001111110222222222222211111000001111111011110000000000000000000000000011000000","110000001100011111100000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000011110000222222222222200000000000000000011110000000000000000000000000011001100","000000001100011111100000000000000000000001111111000000000000000000000000000011000000000000000000000000000000000000111100000222222222222200000000000000000011110000000000000000000011110011001100","000000001101111000000000000000000000000010000000100000000000000000000000000011000000000000000000000000000000000001111011110222222222222200000000000011110000000000000000000000000011110011000000","000000001101111000000000000000000010000010011110100000000000000000000000000011000000000111100000000000000000000011110011112222222222222200000000000011110000000000000000000000000011110011000000","000000001101111111100000000110000010000010011110100000000000000000000000000011000000000111100000000000000000000011100011112222222222222200000000000011110000000000000000000000000000000011000000","000000001101111111100000000110000000000010011110100000000000000000000000000011000000000111100000000011000000000011000000002222222222222200000000000000000000000000000000000110000000000011000000","000000001100000111100000000000000000000010000000100000000000000100000110000011000000000000000000000011000000000011000000002222222222222200000000000000000000000000000000000110000000000011000000","000000001100000111100000000000000000000011000001100000000000000100000110000011000000000000000000000000000000000011000000002222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000011111111100000000000000000000000000011000000000000000000000000000000000011000000022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000001111111000000000000000000000000000011000000000000000000000000000000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000000000000000000000000000000000000000011000011000000000000000000000000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100111100000000000000000000000000000000000000000000000000000000000011000011000000000000000011111000000011011110022222222222222200000000000000000000000000000000000000000000000011000000","000000001100000000000000000000000000000000000000001000000000000000000000000011000000000000000000000111111100000011000000022222222222222000000000000000000000000000000000000000000000000011000000","000000001100000111100000000000000000000000000000001000000000000000000000000011000000000000000000001100000110000011000000022222222222222000000000000000000000000111100000000111111111111110000000","000000001101100111100000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222222000000000000000000000000111100000001111111111111100000000","000000001101100111100000000000000000000011110000000000000000000000000000000011000000000000000000011000110011000011000000222222222222220000000000000000000000000111100000011000000000000000000000","000000001100000111100000000000000000000011110000000000000000000000000000000011000000000000000000011000110011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100000000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100110000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110000000000000000000000","011110001100110000000000000000000000000000000000000000000000000000000000000011000000000000000000011000000011000011000000222222222222220000000000000000000000000000000000110001111000000000000000","000000001100000000110000010000000000000000000000000000000000000000000000000011000000001111111111110000000011000011000000222222222222220000000000111100000000000000000000110001111000000000000000","000000000110000000110000010000000000000000000000000000000000000000000000000011000000011111111111100001100011000011000000222222222222200000000000111100000000000000000000110001111000000000000000","000000000011000000000000000000000000000000000000000000000000000000000000111011000000110011000000000001100011000011000002222222222222200000000000111100000000000000000000110000000000000111100000","000000000001100000000000000000000000000000000000000000000000000000000000111011000001100011000000000000000011000011000002222222222222200000000000000000000000000110000000110000000000000111100000","000000000000110000000000000000000000000000000000011000000000000000000000111011000001100000000110000000000011000011000002222222222222200000000000000000000000000110000000110000000000000111100000","000000000000011000000000000000000000000000010000011000000000000000000000111011000001100000000110000110000011000011000002222222222222200000000000000000000000000000000000110000000000000000000000","000000000000001100000000000000000000000000010000000000000000000000000000111011000001100000000000000110000011000011000002222222222222200000000000000000000000000000000000111000000000000000000000","000000000000000110000000000000000000000000000000000000000000000000000000111011000001110000000000000000000111000011000022222222222222200000000000000000000000000000000000111100000000000000000000","001111000000000011000000000000000000000000000000000000000000000000000000000011000001111000000000000000001111000011000022222222222222200000000000000000000000000000000000011111111111111111100000","001111000000000001100000000000000000000000000000000000000000000000000000000011000000111111111111111111111110000011000022222222222222200000000000000001100000000000000000001111111111111111110000","001111000000000000111111111111111111111111111111111110000000000000000111111110000000011111111111111111111100000011000022222222222222200000000000000001100000000000000000000111111111111111111000","000000000000000000011111111111111111111111111111111111000000000000001111111100011110001111111111111111111000000011000222222222222222200000000000000000000000000000000000000011111111111111111000","000000000000000000000000000000000000000111111111111001100000000000011000000000011110000111111111111111110000110011000222222222222222200000000000000000000000001111000000000000000000000000011000","000000000000000000000000000000000000001000000000000100111110000011110000000000011110000000000000000000000000110011000222222222222222200000000000000000000000001111000000000000000000001111011000","000000000000000011110000000000000000001100000000001100111111000111110000000000000000000000000000000000000000000011000222222222222222200000000000000000000000001111000000000000000000001111011000","000000000000000011110000000001100000001111111111111100111111000111111000000000000000000000000000000000000000000111002222222222222222200000000000000000000000000000000000000000000000001111011000","000000000000000011110000000001100000000111111111111000110000000000111100000000000000000000000000000000000000001111002222222222222222200000000000000000000000000000000000000000000000000000011000","000001111000000000000000000000000000000000000000000001110000000000011111111111111111111111111111111111111111111110002222222222222222200000000000000000000000000000000000000000000000000000011000","000001111000000000000000000000000000000000000000000011110000000000001111111111111111111111111111111111111111111100002222222222222222200000000000000000000000000000011110000000000000000000011000","000001111000011000000000000011111111111111111111111111100000000000000111111111111111111111111111111111111111111000002222222222222222200000000000000000000000000000011110000000000000000000011000","000000000000011000000000000111111111111111111111111111000000000001111011111111111111111111111111111111111111110000002222222222222222200011000000000000000000000000011110000000000000000000011000","000000000000000000000000001111111111111111111111111110000000000001111000000000000000000000000000000000000000000000002222222222222222200011000000000000000000000000000000000000000000001111011000","011000000000000000000000011111111111111111111111111100000000000001111000000000000000000000000000000000000000000000002222222222222222200000000000000000000000000000000000000000000000001111011000","011000000000000000000000011111111111111111110000000000000000000000000000000000000000000000000000000000000000000000002222222222222222220000000000000000000000000000000000000000000000001111011011","000000000000000001111000011011111111111111110000000000000000000000000000000000000001111111111111111000000000000000002222222222222222220000000000000000000000000000000000000000000000000000011011","000000000000000001111000011011110111111111110000000011110000000000000000000000000010000000000011100100000000000000002222222222222222220000000000000000000000000000000000000000000000000000011000","000000000000000001111000111111111111111111111100000011110000000000000000011000000100011110000011100010000000000000002222222222222222222000000000000000000000000000000000000000000000000000011000","000000001111000000000001111111111111111111111100000011110000000000000000011000000100011110000011100010000000000000002222222222222222222000000000000000000000000000000000000000000000000000011000","000000001111000000000011111111111111111111111100000000000000000000000000000000000100011110000011100010001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000001111000000000111111111111111111111110000000000000000000000000000000000000110011110000000000110001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000000000000000001111111111111111111111110000000000000000000000000000000000000011000000000000001100001111000000022222222222222222222200000000000000000000000000000000000000000000000000011000","000000000000000000011110111111111111111111110000000000000000000000000000000000000001111111111111111000000000000000022222222222222222222220000000000111100000000000000000000000000000000000011000","000000000000000000111111111111111100000000000000000000000000000000000000000000000000111111111111110000000000000000022222222222222222222220000000000111100000000000000000000000000000000000011000","000000000000000000111011111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000000111100000000000000000000000000000000000011000","000000000000000000110011111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000000000000000000000000000000000001111000000011000","000000000000000000111111111111110000000000000000000000000000000000000000000000000000000000000000000000001111000000022222222222222222222222200000000000000000000000000000000000001111000000011000","110000000000000000111111111111110000000000000000110000000000000000000000000000000000000000000000000000001111000000002222222222222222222222200000000000000000000000000000000000001111000000011000","110000000000000000111111111111110000000000000000110000000000000000000000000000000000000000011000000000001111000000002222222222222222222222200000000000000000000000000000000000000000000000011000","110000000000000000110011111111000000000000000000000000000000000000000000000000000000000000011000000000001111000000002222222222222222222222220000000000000000000000000000000000000000000000011000","000000000000000001110011111111000000000000000000000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222220000000000000000000000000000000000000000011111110000","000000000000000011110011111111000000000011100000000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222222000000000000000000000000000000000000000111111100000","000001111111111111100000111100000000000011100000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222000000011110000000000000000000000000001100000000000","000011111111111111000000111100000000000011100000000000000000000000000000000000000000000000000000000000000000000000000022222222222222222222222200000011110000000000000000000000000011001110000000","000111111111111110000000111100000000000011100000000000000000111100000000000000000000000000000000000000000000000000000002222222222222222222222200000011110000000000000000000000000011001110000000","000111111111111100000000000000000000000000000000011110000000111100000000000000000000000000000000000000000000000000000002222222222222222222222200000000000000000000000000000000000011001110000000","000110000000000000000000000000000000000000000000011110000000111100000001111000000000000000000000000000000000000000000000222222222222222222222220000000000000000111100000000000000011001110000000","000111111111100000000000000000000000000000000000011110000000000000000001111000000000000000000000000000000000000000000000222222222222222222222220000000000000000111100000000000000011000000000000","000111111111100000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000022222222222222222222222000000000000000111100000000000000011000000111100","000111111111100000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000011000000111100","000111111000000000000000000000000000000000000000000000000000000000000111111110000000000000000000000000000000000000000000000022222222222222222222200000000000000000000000000000000011100000111100","000111111000000000000000000000000000000000000000000000000000000000000111111110000000000000000000111100000000000000000000000022222222222222222222200000000000000000000000000000000011110000000000","000111111000000000111100000000000000000000000000000000000000000000000000011110000000000000000000111100000000000000000000000002222222222222222222220000000000000000000000000000000001111110000000","000110000000000000111100000000000000000000000000000000000000000000000000011110000000000000000000111100000000000000000000000002222222222222222222220000000000000000000000000000000000111111000000","000110000000000000111100000000000000000000000000000001111000000000000000011110000000000000000000000000000000000000000000000000222222222222222222220000000000000000000000000000000000011111100000","000110000000000000000000000000000000011110000000000001111000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000001111100000","000110000000000000000000000000000000011110000000000001111000000000000000000000000000000000000000000000000000000000000000000000222222222222222222222000000000000000000000000000000000000001100000","000110000000000000000000000000000000011110000000000000000000000000000000000000000000000000000000000000000000000000000000111100022222222222222222222200000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111111111100000000000000000111100022222222222222222222200000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111110000000000000000111100022222222222222222222220000000000000000000000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000011000000000011000000000000000000000002222222222222222222222200000000000000000000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000011110000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222220000000000111100000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222222000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000000000110000000000001100000000000000000000002222222222222222222222222000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000000000000000000000000111000000000000000000110000011110001100000000000000000000002222222222222222222222222200000000000000000000000000000001100000","000110011110000000000000000000000000000000000000000000000001111000000111000000011111111111100000011110001100000000000000000000002222222222222222222222222200000000000000000000000000000001100000","000110011110000000000000000000000000000000000000000000000001111000000111000000111111111111000000011110001100000000000000000000002222222222222222222222222220000000000000000000000011110001100000","000110011110000000000000000000000000000000000000000000000001111000000111000001100000000000000000000000001100011000000000000000002222222222222222222222222220000000000000000000000011110001100000","000110000000000000000000000000000000000000000000000000000001111000000000000011000000000000000000000000001100011000000000011110000222222222222222222222222222000000000000000000000011110001100000","000110000000000000000000000000000000000000000000000000000000000000000000000011000000000000000000000000001100000000000000011110000222222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000110000000000000000000000000000000011000011110000000000000000001100000000000000011110000022222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000110000000111111111111111111111111110000011110000000000000000001100000000000000000000000022222222222222222222222222000000000000000000000000000001100000","000110000000001111000000000000000000000000000000001111111111111111111111111100000011110000000000000000001100000000000000000000000002222222222222222222222222200000000000000000000000000001100000","000110000000000000000000000000000000000000000000011000000000000000000000000000000000000000000001111000001100000000000000000000000002222222222222222222222222200000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000001111000000111111000000000000000000000222222222222222222222222220000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000001111000000011111100000000000000000000000222222222222222222222220000000000000000000000000001101111","000110000000000000000000000000000111100000000000110000011110000000000000000000000000000000000000000000000000000110000000000000000000000222222222222222222222220000000000000000000000011101100000","000110000000000000000000000000000000000000000000110000011110001111000000000000000000000000000000000000001111000011000000000000000000000222222222222222222222222000000000000000000000011101100000","000110000000000000000000000000000000000111100000110000000000001111000000000001111000000001111000000000001111000011000000000000000000000022222222222222222222222000000000000000000000011101100000","000110000000000000000000000000000000000111100000110000000000001111000000000001111000000001111000000000001111000011000000000000000000000011111111111111111111111111100000000000000000011101100000","000110000000000000000000000011100000000111100000110000000000000000000000000001111000000001111000000000001111000111000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000111000000000000000000000000000000000000000000000000000000000001111000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000111100001111000000000000000000000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000011100000000111100000011110001111111100000011110000000000000000000000000000111111111100000000000000000000000000000000000000000000000000000000000000000000000001100000","000110000000000000000000000000000000000000000000001111001111111100000011110000000000000000000000000001111111111000000000000000000000000000000000000000000000000000000000000000111100000001100000","000110000000000000000000000000000000000000000000000111100000111100000011110000000000000000000000000011111111110000000000000000000000000000000000000000000000000000000000000000111100000001100000","000110000000000011110000000000000000000000000000000011110000000000000000000000000000000000000000000111100000000000000000000000000000000011111111111111111111111111100000000000111100000001100000","000110000000000011110000000000000000000000000000000001111111111111111111111111000000001111000000001111000000000000000000000000000000000000222222222222222222222222200000000000000000000001100000","000110000000000011110000000000000000000000000000000000111111111111111111111111100000001111000001111110000000000000000000000000000000000000222222222222222222222222200000000000000000000001100000","000110000000000000000000000000000000000000000000000000011111111111111111111111110000001111000011111100000000000001111000000000000000000000022222222222222222222222200000000000000000000001100000","000110011110000000000000000000000000000001111000000000001111111111111111111111111000000000000111111000000000000001111000000000000000000000022222222222222222222222220000001111111111111111000000","000110011110000000000000000000000000000001111000000000000000000000000000000000111100000000000111110000000000000001111000000000000000000000002222222222222222222222220000011111111111111110000000","000110011110000000000000000000000000000001111000000000000000000000000000011110011110000000000110000000011110000000000000000000000000000000002222222222222222222222220000110000000000000000000000","000110000000000000000000000000000000000000000000000000000000000000000000011110001111000000000110000000011110000000000000000000000000000000002222222222222222222222222001100000000000000000110000","000110000000000000000000000000000000000000000000000000000000000000000000011111111111100000001110000000011110000000000000000000000000111100002222222222222222222222222201100000000000000000110000","000110000000000000000000000000000000000000000000000000000000000000000000000001111011110000011110000000000000000000000000000000000000111100000222222222222222222222222221100000011110000000000000","000110000000000000000000000000000000000000000000000000000000000000000000000001111001111000111101111000000000111100001100000000000000111100000222222222222222222222222221100000011110000000000000","000110000000000000000000000000110000000000000000000000000000000000000000000000000000111111111000011000000000111100001100000000000000000000000222222222222222222222222221100000011110000000000000","000110000000000000000000000000110000000000000000000000000000000000000000000000000000011111110000011000000000111100000000000000000000000000000222222222222222222222222221100000000000000000000000","000110000000000000000000000000000000000000000000000000000000000000000000000000000000001111111111111110000000111100000000000000000000000000000222222222222222222222222221100000000000000000000000","000011111111111111111111111111000000000000000000000000000000000000000000000000000000000111111111111110000000000000000000000000000000000000000222222222222222222222222221100000000000000000000000","000001111111111111111111111111100000000000000000000000000000000000000000000000000000000001111111111110000000000000000000000000000000000000000222222222222222222222222221110000000000000000000000","000000000000000000000000000000110000000000000000000000000000000000000000000000000000000111111111111111100000000000000000000000000000000000000222222222222222222222222221111000000000000001111000","000000000000000000000000000000011000000000000000000000000000000000000000000000000000000111111111111111100000000000000111100000000000000000110022222222222222222222222222111100000001100001111000","000000000000001111000000000000011000011100000000000000000000000000000000000000000000000111111111111111100000000000000111100000000000000000110022222222222222222222222222211110000001100001111000","000000000000001111000001111000011000011100000000000000000000001111000000000000000000000001111111111111111000000000000111100000000000000000000002222222222222222222222222221111000000000000000000","000000111100001111000001111000011000011100000000000000000000001111000000000000000000000001111111101111111000000000000000000000000000000000000002222222222222222222222222222111100000000000000000","000000111100000000000001111000011000011100000000000000000000001111000000000000000000000001111111101111111000011000000000000000000000000000000002222222222222222222222222222211110000000000000000","000000111100000000000000000000011000000000000000000000000000000000000000000000000000000000011111111111111110011000000000000000000000000000000000222222222222222222222222222221111000000000000000","000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000011110111111111110000000000000000000000000000000000000222222222222222222222222222222111000000000000000","000000000000111100000000000000001111111111111111111111111111000000000000000000000000000000011110111111111110000000000000000000000000000000000000022222222222222222222222222222211000000000000000","000000000000111100000000000000000111111111111111111111111111100000000000000000000000000001111111111111111000000000000000000000000000000000000000022222222222222222222222222222211000000000000000","000000000000111100000000000000000000000000000000000000000000110000000000000000000000000001111111111111111000000000000000000000000000000000000000002222222222222222222222222222211000000000000000","000000000000000000000000000000000000000000000000000000000000011000000000000000000000000001111111111111111001100000000000000000000000000000000000000222222222222222222222222222211000000000110000","000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000011111111111111111111000000000000000000000000000000000000222222222222222222222222222211000000000110000"]
	
	var a = m.addon[Q] = {};
	a.spot = {"s1":{"x":816,"y":240},"ed":{"x":3248,"y":368},"q1":{"x":2192,"y":560},"ek":{"x":5424,"y":560},"ec":{"x":4592,"y":1200},"ef":{"x":2640,"y":1232},"e1":{"x":5552,"y":1264},"t2":{"x":1456,"y":1584},"eh":{"x":1616,"y":1680},"ee":{"x":3408,"y":1744},"b2":[1568,2400,1920,1920],"b3":[1472,1472,2112,2720],"ei":{"x":912,"y":2224},"g2":{"x":3728,"y":2320},"eg":{"x":1808,"y":2352},"q2":[1600,2400,2432,2720],"ej":{"x":1968,"y":2576},"b1":[1792,2080,2848,2848],"t3":{"x":1968,"y":2928},"b4":[1792,2080,2976,2976],"eb":{"x":4944,"y":2992},"e6":{"x":2768,"y":3888},"ea":{"x":5296,"y":4080},"s3":{"x":4912,"y":4144},"e5":{"x":1616,"y":4240},"e4":{"x":656,"y":4528},"e7":{"x":3696,"y":4624},"e8":{"x":5456,"y":4912},"e3":{"x":1104,"y":5264},"g1":{"x":1744,"y":5488},"n1":{"x":2096,"y":5520},"s2":{"x":4304,"y":6000},"t1":{"x":2576,"y":6096}}
	a.path = {};
	
	a.load = function(spot){
					
		block(spot.b2,{viewedIf:q.event.seeBlock});
		block(spot.b3,{viewedIf:q.event.seeBlock});
		block(spot.b4,{},'invisible');
		
		actor(spot.t3,"teleport","zone",{
			angle:90,
			teleport:q.event.teleOutCamp,
		});
		
		actor(spot.t2,"teleport","zone",{	//changed tiled project but didnt update image on client. ladder is part of map
			angle:90,
			teleport:q.event.teleInUnderground,
		});
		
		actor(spot.ej,Q,'boss',{
			deathFunc:q.event.killGoblinBoss,
			tag:'boss',
			viewedIf:'false',
			combat:0,
		});

		actorGroup(spot.ei,25*300,[
			["goblin","melee",2,{deathFunc:q.event.killGoblin}],
			["goblin","range",1,{deathFunc:q.event.killGoblin}],
		]);	
		
		actorGroup(spot.eh,25*300,[
			["goblin","magic",2,{deathFunc:q.event.killGoblin}],
			["goblin","range",1,{deathFunc:q.event.killGoblin}],
		]);	
		
		actorGroup(spot.eg,25*300,[
			["goblin","range",1,{deathFunc:q.event.killGoblin}],
		]);	
	
	}
	
	a.loop = function(spot){
		collision(spot.q2,q.event.csTestBoss);	
	}
	a.playerLeave = function(key){
		sprite(key,'mace');	
		set(key,'csInBoss',false);
	}
	
	return m;
};

//}

q.boss['test'] = function(){
	var boss = Boss.template('v1.0');
	
	boss.opening = 20;
	
	boss.attack['center'] = {
		'type':"bullet",'angle':20,'amount':10, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1},
		'dmg':{'main':100,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
		'spd':20
	};
	boss.attack['offcenter'] = {
		'type':"bullet",'angle':20,'amount':10, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1},
		'dmg':{'main':200,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
		'spd':30
	};
	boss.attack['360fire'] =	{
		'type':"bullet",'angle':360,'amount':36, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1},
		'dmg':{'main':100,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},
	};
	boss.attack['slowfire'] = {
		'type':"bullet",'angle':60,'amount':4, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':1.5},
		'dmg':{'main':300,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
		'spd':15,'maxTimer':250,
	};
	boss.attack['weakfire'] = {
		'type':"bullet",'angle':40,'amount':5, 'aim': 0,
		'objImg':{'name':"fireball",'sizeMod':0.75},
		'dmg':{'main':50,'ratio':{'melee':0,'range':0,'magic':20,'fire':80,'cold':0,'lightning':0}},	
	};
	
	boss.phase[0] = {
		loop:function(boss){
			if(boss.frame % 25 !== 0) return;	//every 25 frame
			
			if(Math.random() < 0.5){
				bossAttack(boss,'center',{'angle':boss.angle});			
			} else {
				bossAttack(boss,'offcenter',{'angle':boss.angle+boss.opening});
				bossAttack(boss,'offcenter',{'angle':boss.angle-boss.opening});			
			}	
			
		},
		transitionTest:function(boss){
			return boss.hpRatio < 0.50;
		}
	}
	boss.phase[1] = {	//big
		loop:function(boss){
			if(boss.frame % 10 !== 0) return;	
			bossAttack(boss,'slowfire',{'angle':boss.angle});
		},
		transitionIn:function(boss){
			bossAttack(boss,'360fire',{'angle':boss.angle});
			boss.noattack = 25;
			var act = getAct(boss.parent);
			Sprite.change(act,{'sizeMod':2});
			Actor.boost(act,[
				{'stat':'globalDef','type':"*",'value':10,'time':250,'name':'boss'},
			]); 
		},
		transitionOut:function(boss){
			var act = getAct(boss.parent);
			Sprite.change(act,{'sizeMod':0.75});
		},
		transitionTest:function(boss){
			return boss.frame % 250 === 0;
		}
	}
	boss.phase[2] = {	//small
		loop:function(boss){
			if(boss.frame % 25 !== 0) return;
			bossAttack(boss,'weakfire',{'angle':boss.angle});
		},
		transitionTest:function(boss){
			return (boss.frame % 100 === 0) ? 1 : false;
		}
	}
	
	return boss;
}	

exports.quest = q;






