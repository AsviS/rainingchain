Init.db.map = function (){
	Db.map = {};
	
	Db.map['test'] = function(){
		var m = {};
		m.name = "Test";
		m.grid = ['000000000000000000000000000000000000100000000000000000000000100000000000000000000000000000000000','000000000000000000000000000000000000100000000000000000000000100000000000000000000000000000000000','000000000000000000000000000000000000100000000000000000000000100000000000000000000000000000000000','000000000000000000000000000000000000100000000000000000000000100000000000000000000000000000000000','000000000000000000000000000000000000100000000100000010011000100000000000000000000000000000000000','000000000000000000000000000000000000100000000100000010000000100000000000000000000000000000000000','000000000000000000000000000000000000100000000000000000000000100000111110000000000000000000000000','000000000000000000000000111111111111100000000000000000000000111111100010000000000000000000000000','000000000000000000000000100000000000000000000000000000000000000000000010000001111100000000000000','000000000000000000000000100110000000000000000000000000000000000000000010000111000110000000000000','000000000000000000000000100110000000000000000000000000000000000000000001111100000110000000000000','000000011111000000000000100000000000000000000000000000000000000000011000000000000110000000000000','000000010001000000000000100000000000100000000000000000000000000000011000000000000010000000000000','000001110001000000000000100000000000000000000000000000000000000110000000000000000010000000000000','000001000001000000000000100000000000000000000000000000000000000000000000000000000010000000000000','000001001101000000000000100000000000000000000000000000000000000000000000000000000010000000000000','000001001101000000000000111110000000000000000011000000000000000000000000001111111111110000000000','000001000001000000000000111010000000000000000011000000000000000000000000011000000010010000000000','000001110111000000000000110010000000000000000000000000000000000000000000010000000001010000000000','000000010111000000000000110010000000000000000000000000000000000000000000010000000001010000000000','000000010001000000000000110010000000000000000000000000000000000000000000010000000000111100000000','000000010001000000000000111110000000000000000000000011111100000000000000010000000000010110000000','000000010001111111111111100000000000000000000000111110000100001100000000010000000000010010000000','000000010000000000000000000000000000000000001111100000000110001100000000010000000000010010000000','000000010000000000000000000000000000000001111000000000000010001100000000010000000000010010000000','000000010000000000000000000000000000111111000000000000000010001100000000011100000011110110000000','000000010001100000000000000000000000100000000000000000000011100000000000001000000010000100000000','000000010001100000000000000000000000100000000000000000000000100000000000001000000010000100000000','000000110000000000000000000000000001100000000000000011000000100000000011111000000010000100000000','000000100000000000000000000000000001000000110000000011000000100000000011111111111110000100000000','000000100000000000000001000000000001000000110011110000000000100000000000000000000000000100000000','000000100000000000000000000000000001000000110011110000000000100000000000000000000000000100000000','000000110000000000000000000000000011000000001000000000000000100000000000000000000000000111000000','000000010000000000000000000000000010000000000000000000000111100000000000000000000000000001100000','000000010000000000000000000000000010000000000000000000000111100010000000000000000011000001100000','000000010000000000000000000000000010000000000000000000000111100000000000001111000011000000100000','000000011111000000000000000000000010000000000000000000000111100000000000001111000000000000100000','000000000001000000000000000000000010000000000000000000000111100000000000001111000000000000100000','000000000001111000000000000000000011000000000000000000000100000000000000000000000000000001100000','000000000000001000000000000000000011100000000000000000000100000000000000001111000000000001000000','000000000000001001000000000000000011110000000000000000000100000000000000011001111000000001000000','000000000000001000000000000011000011111100000000000000000100000000000000010000001111000001000000','000000000000001000000000000011000001111110000000000000000100000000000000010000000001100111000000','000000000000001100000000000000000000111111000001100000001100000000000000010000000000111100000000','000000000000000100000000000000000000111111000001111111111100000000000000010000000000000000000000','000000000000000100000000000000000000001111000001111011100100000001000000010000000000000000000000','000000000000000100000000000000000000000011000001100000000100000000000000010000110000000000000000','000000000000000100000000000000000000000011000001100000011100000000000000010000110000000000000000','000000000000000100000000000000000000000000000000111111110000000000000000011000000000000000000000','000000000000000100000000000000000000000000000000000000000000000000000000001000000000000000000000','000000000000000100000000000000000000000000000000000000000000000000000000001000000000000000000000','000000000000000100000110000000000000000000000000000000110000000000000000001000000000000000000000','000000000000000100000110000000000000000000000000000000110000000000000000001000000000000000000000','000000000000001100000110000000000000000000000000000000000000000000000011001000000000000000000000','000000000000001000000110000000000000000000000000000000000000000000000011001100000000000000000000','000000000000001000000000000000000000000000000000000000000000000000000011000100000000000000000000','000000000000001000000000000000000000000000000000000000000000000000000011000100000000000000000000','000000000000001000000000000000000000000000000000000000000001000000000000000100000000000000000000','000000000000111000000000000000000000000000000000000000000000000000000000000111110000000000000000','000000000011100000000000000000000000000000000011110000000000000000000000000000010000000000000000','000000001110000000000000000001000000000000000011110000000000000000000000000000011100000000000000','000000001000000000000000000000000000000000000000000000000000000000000000000000000100000000000000','000000001000000000111111110000000000000000000000000000000000000000000000000000000100000000000000','000000001000000011100000011100000000000000000000000000000000000000111111111111100100000000000000','000000011000001110000000000100000000000111100000000000000000001111100000000000111100000000000000','000000010000001010000000000100000000000111100000000000000000001000000000000000001100000000000000','000000010000001000000000000100000000000111100000000000000000011000000000000000000111000000000000','000000010000001000000000000100000000000000000000000000000000010000000000000000000101010000000000','000000010000001000000000000100000000000000000000000000000000010000000000000000000101110000000000','000000011100001110000000111100000000000000000000000000000000010000000000000000000100111000000000','000000000100000010000000100000000000000000000000000000000000010000000000000000000100011000000000','000000000100000010000000100000000000000000000000000000110000010000000000000000000100011000000000','000000000100000010000000100000000110000000000000000000110000011110000000000000000100011000000000','000000000100000011111111100000000110000000000000000000000000000010000000000000000100001000000000','000000000100000000000000000000000000000000000000000000000000000010000000000000011100001000000000','000000000100000000000000000000000000000000000000000000000000000010000000000000010000011000000000','000000000100000000000000000000000000000000000110000000000000000010000000000000010000010000000000','000000000100000000000000000000000000000010000110000000000000000010000000000000010000010000000000','000000000100000000000000000000000000000000000000000110000000000011111111111111110000010000000000','000000000111111100000000000000000000000000000000000000000000000000000000110000000000010000000000','000000000000000100000000000000000000000000000000000000000000000000110000110111100000010000000000','000000000000000110000000000000000000000000000000000000000000000000000000000111100000010000000000','000000000000000010000000000000000000000000000000000000000000000000000000000000000000010000000000','000000000000000010000000000000000000000000000000000000000000000000000000000000000000010000000000','000000000000000011000000000000000000000000000000000000000000000000000000000000000000110000000000','000000000000000001000000000000000000000000000000000000000000000000000000000000000000100000000000','000000000000000001000000000000000000000000000000000011000000000000011110000000000111100000000000','000000000000000001100000000000000000000000000000000011000000001111011110000000000100000000000000','000000000000000000100000000000000000000000011111000000000000001111000000000000000100000000000000','000000000000000000100000000001111111111000010001110000000000000000000000000000111100000000000000','000000000000000000111000000001000000001000010000011111111111111111110000000000100000000000000000','000000000000000000001000000001000000001111110000000000000000000000011000111111100000000000000000','000000000000000000001111111111000000000000000000000000000000000000001111100000000000000000000000','000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000','000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000']
		m.hotspot = {};
		
		m.load = {};
		m.load.main = function(map,hotspot,variable,cst){
			Actor.creation.group({'x':1060,'y':1900,'map':map,'respawn':100},[
				{'amount':3,"category":"troll","variant":"ice",'lvl':0,'modAmount':1},
			]);
		}
		
		m.loop = {};
		m.loop.main = function(map,hotspot,variable,cst){
			if(Loop.interval(10) && false){
				Map.collisionRect(map,[1000,1400,1000,1400],'player',function(key){
					var mort = List.all[key];
					mort.hp -= 100;
					
					Attack.creation(
						{x:mort.x,y:mort.y,map:map,hitIf:'player-simple',angle:mort.angle},
						useTemplate(Attack.template(),cst.atk)
					);
					
				});
			}
		}
		
		
		m.cst = {};
		m.cst.main = {
			atk:{'type':"bullet",'angle':15,'amount':1, 'aim': 0,'objImg':{'name':"iceshard",'sizeMod':1},'hitImg':{'name':"ice2",'sizeMod':0.5},
				'dmg':{'main':1,'ratio':{'melee':0,'range':10,'magic':80,'fire':10,'cold':0,'lightning':0}}},	
		};
		return m;
	};
	//ts("Actor.creation.group({'x':1060,'y':1900,'map':'test@MAIN','respawn':100},[{'amount':1,'category':'boss','variant':'iceTroll','lvl':0,'modAmount':1},]);")
			
		

	Db.map['tutorial'] = function(){
		var m = {};
		m.name = "Tutorial";
		m.grid = ["11111111111111111111111111111111111110000001111111111111111111111111111111111111","11111111111111111111111111011000000000000001111111111111111111111111111111111111","11111111111111111111111111011000000000000001111111111111111111111111111111111111","11111111111111111111111111000000000000000001111111111111111111111111111111111111","11111111111111111111111111000000000000000001111111111111111111111111111111111111","11111111111111111111111111000000000000000001111111111111111111111111111111111111","11111111111111111111111111000000000001111001111111111111111111111111111111111111","11111111111111111111111111000000001101111001111111111101111111110111111111111111","11111111111111111111111111000000001101111001111111111101111111110111111111111111","11111111111111111111111111111111110000000001111111111100011111000111111111111111","11111111111111111111111111111111111111111101111111111100000000000111111111111111","11111111111111111111111111100000011111111111111111111100000000000111111111111111","11111111111111111111111111100000011111111111111111111100000000000111111111111111","11111111111111111100000000100000010000000011111111111100000000000111111111111111","11111111111111111101111000000000000001100011111111111100000000111111111111111111","11111111111111111101111000000000000001100011111111111100000001111111111111111111","11111111111111111101111000000000000000000011111111111000000011111111111111111111","11111111111111111100000000000000000000000001111111110000000111111111111111111111","11111111111111111100000000000000000000000000111111100000000111111111111111111111","11111111111111111100000000000000000000000000000000000000000211111111111111111111","11111111111111111100000000000000000000000000000000000000002221111111111111111111","11111111111111111100000000000000000000000000000000000000022222111111111111111111","11111111111111111100000000000000000000000000111111100000222222222222222221111111","11111111111111111100000000000000000000111101111111110000222222222222222221111111","11111111111111111100000000000000000000111111111111111000222222222222222222111111","11111111111111111100000000000000000000111111111111111122222222222222222222111111","11111111111111111100000000000000000000000011111111111122222222222222222222111111","11111111111111111100000000000000000000011111111111111122222222222222222222111111","11111111111111111100000000000000000000111111111111111122222222222222222221111111","11111111111111111111110000000000000001111111111111111122222222111111111111111111","11111111111111111111111000000000000011111111111111111122222221111111111111111111","11111111111111111111111100010000100011111111111111111122222211111111111111111111","11111111111111111111111101110000111011111111111111111122222111111111111111111111","11111111111111111111111111110000111111111111111111111122222111111111111111111111","11111111111111111111111110010000100111111111111111111111111111111111111111111111","11111111111111111111111110000000000111111111111111111111111111111111111111111111","11111111111111111111111110000000110111111111111111111111111111111111111111111111","11111111111111111111111110000000110111111111111111111111111111111111111111111111","11111111111111111111111110000000000111111111111111111111111111111111111111111111","11111111111111111111111110000000000111111111111111111111111111111111111111111111","11111111111111111111111110000000000111111111111111111111111111111111111111111111","11111111111111111111111110000000000111111111111111111111111111111111111111111111","11111111111111111111111110000000000111111111111111111111111111111111111111111111","11111111111111111111111110000100100111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111111111111100111111111111111111111111111111111111111111111111","11111111111111111111000111110100111111111111111111111111111111111111111111111111","11111111111111111111000111110000011111111111111111111111111111111111111111111111","11111111111111111111000111110000011111111111111111111111111111111111111111111111","11111111111111111111000111110000011111111111111111111111111111111111111111111111","11111111111111111111000111110000011111111111111111111111111111111111111111111111","11111000001111111111000111110000011111111111111111111111111111111111111111111111","11111000000000020000000111110000011111111111111111111112221111111111111111111111","11111000000000020000000111110000011111111111111111111112221111111111111111111111","11111000000000020000000111110000011111111111111111111122222111111111111111111111","11111000001111110000000111110000011111111111111111111222222211111111111111111111","11111000001111110000000011100000011111111111111111112222222221111111111111111111","11111111111111110000000001000000011111111110000022222222222222200011011111111111","11111111111111110000000000000000011111111110000011111111111111100011011111111111","11111111111111110000000000000000111111111110000000000000000000000000011111111111","11111111111111111111111000000001111111111110000000000000000000000000011111111111","11111111111111111111111100000001111111111110000011111111111111100000011111111111","11111111111111111111111110000001111111111110000022222222222222200000011111111111","11111111111111111111111111000001111111111110000022222222222222200000011111111111","11111111111111111111111111000001111111111110000002222222222222111110011111111111","11111111111111111111111111000000111111111100000000222222222221111110011111111111","11111111111111111111111111000000011111111000000000000222222221111110011111111111","11111111111111111111111111000000001111110000000000000002222221111110011111111111","11111111111111111111111111000000000000001111000000000000222221111110011111111111","11111111111111111111111111011000000000001111000000000000222221111110011111111111","11111111111111111111111111111000000000001111111100000000222221100000011111111111","11111111111111111111111111111000000000000000111100000000222222001100011111111111","11111111111111111111111111111111111110000000111100000000222222001100011111111111","11111111111111111111111111111111111111000000000020000000222222200000011111111111","11111111111111111111111111111111111111100000000020000000222222220000011111111111","11111111111111111111111111111111111111100000000020000000222222222111111111111111","11111111111111111111111111111111111111100000000000000000222222222111111111111111","11111111111111111111111111111111111111100000000000000011122222221111111111111111","11111111111111111111111111111111111111111110000000000100012222221111111111111111","11111111111111111111111111111111111111111111000000001100001222222111111111111111","11111111111111111111111111111111111111111111100000011111000122222111111111111111","11111111111111111111111111111111111111111111110000111111000012222111111111111111","11111111111111111111111111111111111111111111110000111111000001111111111111111111","11111111111111111111111111111111111111111111110000100000011111111111111111111111","11111111111111111111111111111111111111111111111001100000011111111111111111111111","11111111111111111111111111111111111111111111111001100000011111111111111111111111","11111111111111111111111111111111111111111111110000110000000011111111111111111111","11111111111111111111111111111111111111111111110000111000000011122211111111111111","11111111111111111111111111111111111111111111100000011100111111122211111111111111","11111111111111111111111111111111111111111111000000001100111111222211111111111111","11111111111111111111111111111111111111111110000000110100111112222211111111111111","11111111111111111111111111111111111111100000000000110000112222222211111111111111","11111111111111111111111111111111111111100000000000000000112222222211111111111111","11111111111111111111111111111111111111100000000000000000002222222211111111111111","11111111111111111111111111111111111111101111000000000000000222222211111111111111","11111111111111111111111111111111111111101111000000000000000222222211111111111111","11111111111111111111111111111111111111101111000000000000000222222211111111111111","11111111111111111111111111111111111111100000000000000000000222222211111111111111","11111111111111111111111111111111111111100000000000000000002222222211111111111111","11111111111111111111111111111111111111111111111111111111111112222211111111111111","11111111111111111111111111111111111111111111111111111111111111222211111111111111","11111111111111111111111111111111111111111111111111111111111111122211111111111111","11111111111111111111111111111111111111111111111111111111111111112111111111111111","11111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111","01111111111111111111111111111111111111111111111111111111111111111111111111111111"] ;
			
		
		return m;
	};
	
	for(var m in Db.map){	
		Db.map[m] = Db.map[m]();
		Db.map[m].id = m;
		Map.creation.model(Db.map[m]);
	}
	
}
